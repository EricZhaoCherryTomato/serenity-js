<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-85788349-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-85788349-2');
    </script>
    <meta charset="utf-8"/>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <base href="/modules/console-reporter/">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,900,700,400italic" rel="stylesheet">
    <title> | Serenity/JS</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="manifest" href="/icons/site.webmanifest">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/icons/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/icons/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="/css/charming-pro-serenity-js.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css"
          integrity="sha256-zmfNZmXoNWBMemUOo1XUGFfc0ihGGLYdgtJS3KCr/l0=" crossorigin="anonymous" />
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/pixeden-stroke-7-icon@1.2.3/pe-icon-7-stroke/dist/pe-icon-7-stroke.min.css"
          integrity="sha256-AJfZWudfDWpFpIZ3USExGYDGwsYz47IgfEQCiGTm4wQ=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" integrity="sha256-3YM6A3pH4QFCl9WbSU8oXF5N6W/2ylvW0o2g+Z6TmLQ=" crossorigin="anonymous" />
</head>
<body>

<div id="top"
        class="block block-dark block-bb bg-gradient-accent-2 p-0">
    <div class="container">
        <nav id="web-nav" class="web-nav web-nav-light">
            <header>
                <a href="/" class="serenity-js-logo">
                    <svg width="190px" height="42px" viewBox="0 0 1077 243" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:1.41421;">
                        <path class="logo-accent" d="M295.133,157.626l22.342,0c1.571,12.567 6.633,23.04 27.753,23.04c13.789,0 23.563,-7.68 23.563,-19.2c0,-11.52 -5.76,-15.884 -26.007,-19.2c-29.847,-4.015 -43.985,-13.091 -43.985,-36.48c0,-20.422 17.454,-35.782 43.461,-35.782c26.881,0 42.938,12.219 45.382,36.131l-21.294,0c-2.27,-13.091 -9.775,-18.676 -24.088,-18.676c-14.138,0 -21.469,6.807 -21.469,16.407c0,10.123 4.19,15.186 25.833,18.327c29.323,4.015 44.509,12.393 44.509,37.353c0,21.643 -18.327,38.574 -45.905,38.574c-34.036,0 -48.35,-16.931 -50.095,-40.494" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M472.468,141.219c-1.048,-15.709 -9.077,-22.691 -22.168,-22.691c-12.741,0 -21.294,8.552 -23.389,22.691l45.557,0Zm-67.55,10.473l0,-1.397c0,-28.276 19.375,-47.127 45.382,-47.127c22.691,0 43.113,13.44 43.113,46.08l0,6.109l-66.851,0c0.698,17.28 9.426,27.054 25.135,27.054c12.742,0 19.375,-5.061 20.945,-13.963l20.422,0c-2.967,19.2 -18.502,29.672 -41.891,29.672c-26.88,0 -46.255,-17.629 -46.255,-46.428" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M513.481,105.088l14.487,0l0,16.407c5.761,-10.298 13.616,-17.454 30.023,-17.978l0,13.615c-18.327,0.872 -30.023,6.633 -30.023,29.148l0,50.095l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M637.754,141.917c-1.396,-18.851 -11.171,-26.356 -26.182,-26.356c-14.836,0 -24.785,10.124 -27.229,26.356l53.411,0Zm-68.945,9.774l0,-1.396c0,-27.578 17.629,-46.778 42.763,-46.778c21.12,0 41.019,12.742 41.019,45.381l0,4.713l-68.772,0c0.699,20.771 10.648,32.291 29.325,32.291c14.137,0 22.341,-5.236 24.261,-15.883l14.488,0c-3.143,18.327 -18.328,27.927 -38.924,27.927c-25.833,0 -44.16,-18.153 -44.16,-46.255" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M673.882,105.088l14.487,0l0,14.487c4.189,-8.552 14.313,-16.058 29.324,-16.058c18.85,0 32.116,10.299 32.116,36.829l0,56.029l-14.488,0l0,-57.076c0,-16.059 -6.806,-23.215 -21.468,-23.215c-13.441,0 -25.484,8.553 -25.484,24.96l0,55.331l-14.487,0l0,-91.287Z" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M772.733,105.088l14.486,0l0,91.287l-14.487,0l0,-91.287Zm-2.618,-28.626c0,-5.237 4.365,-9.6 9.601,-9.6c5.236,0 9.599,4.363 9.599,9.6c0,5.237 -4.363,9.6 -9.599,9.6c-5.236,0 -9.601,-4.363 -9.601,-9.6" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M819.16,173.51l0,-56.204l-13.091,0l0,-12.218l13.091,0l0,-20.77l14.487,0l0,20.77l21.294,0l0,12.218l-21.294,0l0,54.808c0,8.901 4.015,13.265 11.346,13.265c4.538,0 8.028,-0.698 11.171,-1.92l0,12.218c-2.968,1.047 -6.459,1.92 -12.394,1.92c-16.581,0 -24.61,-9.774 -24.61,-24.087" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M902.589,186.949l-35.782,-81.861l15.535,0l27.927,65.454l25.309,-65.454l14.836,0l-50.443,123.054l-14.662,0l17.28,-41.193Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M996.26,100.15l7.752,0l-22.728,69.537l-7.675,0l22.651,-69.537Z" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1002.35,157.646l0,-7.826c1.882,0.752 3.763,1.353 6.924,1.353c4.891,0 8.053,-2.558 8.053,-9.181l0,-37.252l10.084,0l0,37.478c0,11.664 -6.698,17.008 -16.632,17.008c-4.44,0 -6.698,-0.678 -8.429,-1.58" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M1035.46,141.841l9.633,0c0.678,5.42 2.86,9.934 11.966,9.934c5.945,0 10.16,-3.311 10.16,-8.278c0,-4.967 -2.484,-6.847 -11.214,-8.277c-12.868,-1.733 -18.964,-5.645 -18.964,-15.729c0,-8.806 7.525,-15.427 18.738,-15.427c11.59,0 18.514,5.267 19.567,15.578l-9.181,0c-0.978,-5.645 -4.215,-8.053 -10.386,-8.053c-6.095,0 -9.256,2.934 -9.256,7.074c0,4.366 1.806,6.547 11.138,7.901c12.643,1.732 19.191,5.343 19.191,16.105c0,9.332 -7.903,16.633 -19.793,16.633c-14.675,0 -20.846,-7.301 -21.599,-17.461" style="fill-rule:nonzero;"/>
                        <path class="logo-accent" d="M152.636,121.232c0,17.344 -14.06,31.404 -31.404,31.404c-17.344,0 -31.405,-14.06 -31.405,-31.404c0,-17.344 14.061,-31.404 31.405,-31.404c17.344,0 31.404,14.06 31.404,31.404" style="fill-rule:nonzero;"/>
                        <path class="logo-base"   d="M230.534,68.726l-67.217,67.217l46.941,0c-7.045,42.781 -44.281,75.521 -89.026,75.521c-31.396,0 -59.086,-16.127 -75.255,-40.523l-22.286,22.287c22.081,29.866 57.547,49.236 97.541,49.236c66.955,0 121.232,-54.277 121.232,-121.232c0,-18.81 -4.284,-36.619 -11.93,-52.506m-198.328,37.796c7.045,-42.782 44.281,-75.522 89.026,-75.522c31.396,0 59.086,16.127 75.255,40.523l22.286,-22.286c-22.081,-29.867 -57.547,-49.237 -97.541,-49.237c-66.955,0 -121.232,54.278 -121.232,121.232c0,18.811 4.284,36.62 11.93,52.506l67.217,-67.216l-46.941,0Z" style="fill-rule:nonzero;"/>
                    </svg>
                </a>
        
                <a href="#!" class="web-nav-toggler">
                    <span class="fa fa-close"></span>
                    <span class="fa fa-bars"></span>
                </a>
            </header>
        
            <div class="web-nav-list">
                <a href="/handbook" class="web-nav-item">Handbook</a>
                <a href="/modules" class="web-nav-item">Modules</a>
                <a href="/changelog.html" class="web-nav-item">Changelog</a>
                <a href="/support.html" class="web-nav-item">Support</a>
                <a href="/community/sponsors.html" class="web-nav-item">Sponsors</a>
                <a href="https://github.com/serenity-js" class="web-nav-item">
                    <span class="d-block d-lg-none">Source code</span><span class="fab fa-github d-none d-lg-inline"> </span>
                </a>
            </div>
        
            <div id="web-nav-mobile-indicator"><!-- this signals to the javascript if the navigation is mobile or not --></div>
        </nav>
    </div>
</div>

<section id="api-docs">
<html><head></head><body><section>
    <main class="container">
        <div class="row">
            <aside id="sidebar" class="col-lg-3 col-md-12">
                <nav class="toc navigation text-truncate" data-ice="nav">
                    <ul class="summary">
                        <li class="header"><a href="/modules">Modules</a></li>
                        <li class="chapter"><a href="/modules/assertions" title="Screenplay-style assertion library" class>@serenity-js/assertions</a></li>
                        <li class="chapter"><a href="/modules/console-reporter" title="Serenity/JS console reporter" class="active">@serenity-js/console-reporter</a></li>
                        <li class="chapter"><a href="/modules/core" title="Serenity/JS Screenplay, reporting engine and core interfaces." class>@serenity-js/core</a></li>
                        <li class="chapter"><a href="/modules/cucumber" title="Serenity/JS adapter for Cucumber test runners version 1.x - 6.x" class>@serenity-js/cucumber</a></li>
                        <li class="chapter"><a href="/modules/jasmine" title="Serenity/JS adapter for the Jasmine test runner" class>@serenity-js/jasmine</a></li>
                        <li class="chapter"><a href="/modules/local-server" title="Enables Serenity/JS Actors to manage local Node.js test servers, such as Express, Koa or Restify" class>@serenity-js/local-server</a></li>
                        <li class="chapter"><a href="/modules/mocha" title="Serenity/JS adapter for Mocha" class>@serenity-js/mocha</a></li>
                        <li class="chapter"><a href="/modules/protractor" title="Test your web apps with Serenity/JS" class>@serenity-js/protractor</a></li>
                        <li class="chapter"><a href="/modules/rest" title="Test REST APIs with Serenity/JS" class>@serenity-js/rest</a></li>
                        <li class="chapter"><a href="/modules/serenity-bdd" title="Serenity BDD reporter for Serenity/JS" class>@serenity-js/serenity-bdd</a></li>
                    </ul>
                    <ul class="summary">
                        <li class="header"><a href="index.html">console-reporter</a></li>
                        <li class="chapter"><a href="index.html">Readme</a></li>
                        <li class="chapter"><a href="source.html">Source code</a></li>
                        <li class="chapter"><a href="test.html" data-ice="testLink">Specs</a></li>
                        <li class="chapter"><a href="identifiers.html">API Reference</a></li>
                    </ul>
                <div>
  <ul>
    
  <li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#stage-crew-console-reporter">stage/crew/console-reporter</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/ConsoleReporter.ts~ConsoleReporter.html">ConsoleReporter</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/Printer.ts~Printer.html">Printer</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#stage-crew-console-reporter-themes">stage/crew/console-reporter/themes</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/themes/TerminalTheme.ts~TerminalTheme.html">TerminalTheme</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/themes/ThemeForColourTerminals.ts~ThemeForColourTerminals.html">ThemeForColourTerminals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/themes/ThemeForDarkTerminals.ts~ThemeForDarkTerminals.html">ThemeForDarkTerminals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/themes/ThemeForLightTerminals.ts~ThemeForLightTerminals.html">ThemeForLightTerminals</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/stage/crew/console-reporter/themes/ThemeForMonochromaticTerminals.ts~ThemeForMonochromaticTerminals.html">ThemeForMonochromaticTerminals</a></span></span></li>
</ul>
</div>
</nav>
            </aside>

            <section class="col-lg-9 col-md-12">
                <article class="content" data-ice="content"><h1 data-ice="title">spec/stage/crew/console-reporter/ConsoleReporter.spec.ts</h1>
<pre class="source-code line-number raw-source-code"><code class="linenums hljs ts" data-ice="content"><span class="hljs-keyword">import</span> <span class="hljs-string">&apos;mocha&apos;</span>;

<span class="hljs-keyword">import</span> { EventStreamEmitter, expect } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@integration/testing-tools&apos;</span>;
<span class="hljs-keyword">import</span> { Actor, Cast, Clock, Duration, Stage, StageManager } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@serenity-js/core&apos;</span>;
<span class="hljs-keyword">import</span> { trimmed } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@serenity-js/core/lib/io&apos;</span>;
<span class="hljs-keyword">import</span> { ConsoleReporter } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../../../../src&apos;</span>;
<span class="hljs-keyword">import</span> { Printer } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../../../../src/stage/crew/console-reporter/Printer&apos;</span>;
<span class="hljs-keyword">import</span> { ThemeForMonochromaticTerminals } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;../../../../src/stage/crew/console-reporter/themes&apos;</span>;

<span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
describe(<span class="hljs-string">&apos;ConsoleReporter&apos;</span>, <span class="hljs-function">() =&gt;</span> {

    <span class="hljs-keyword">let</span> stdout: FakeWritableStream,
        <span class="hljs-attr">reporter</span>: ConsoleReporter,
        <span class="hljs-attr">stage</span>: Stage,
        <span class="hljs-attr">emitter</span>: EventStreamEmitter;

    beforeEach(<span class="hljs-function">() =&gt;</span> {
        stdout = <span class="hljs-keyword">new</span> FakeWritableStream();

        stage = <span class="hljs-keyword">new</span> Stage(<span class="hljs-keyword">new</span> Extras(), <span class="hljs-keyword">new</span> StageManager(Duration.ofMilliseconds(<span class="hljs-number">250</span>), <span class="hljs-keyword">new</span> Clock()));
        emitter = <span class="hljs-keyword">new</span> EventStreamEmitter(stage);

        reporter = <span class="hljs-keyword">new</span> ConsoleReporter(
            <span class="hljs-keyword">new</span> Printer(stdout <span class="hljs-keyword">as</span> unknown <span class="hljs-keyword">as</span> NodeJS.WritableStream),
            <span class="hljs-keyword">new</span> ThemeForMonochromaticTerminals(),
        );

        stage.assign(reporter);
    });

    describe(<span class="hljs-string">&apos;when instantiated&apos;</span>, <span class="hljs-function">() =&gt;</span> {

        it(<span class="hljs-string">`complains when not given a printer`</span>, <span class="hljs-function">() =&gt;</span> {
            expect(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> ConsoleReporter(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> ThemeForMonochromaticTerminals()))
                .to.throw(<span class="hljs-built_in">Error</span>, <span class="hljs-string">&apos;printer should be defined&apos;</span>);
        });

        it(<span class="hljs-string">`complains when not given a theme`</span>, <span class="hljs-function">() =&gt;</span> {
            expect(<span class="hljs-function">() =&gt;</span> <span class="hljs-keyword">new</span> ConsoleReporter(<span class="hljs-keyword">new</span> Printer(), <span class="hljs-literal">null</span>))
                .to.throw(<span class="hljs-built_in">Error</span>, <span class="hljs-string">&apos;theme should be defined&apos;</span>);
        });
    });

    describe(<span class="hljs-string">&apos;when the scenario passes&apos;</span>, <span class="hljs-function">() =&gt;</span> {

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">&apos;prints the passing steps and the scenario summary&apos;</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.568Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:9,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that passes&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.569Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Reporting&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.569Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:9,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that passes&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;wip&quot;,&quot;type&quot;:&quot;tag&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.569Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:9,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xxtnsb0000wx6ubyfcqy3x&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.579Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xxtnsf0001wx6u26b1wx3m&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.583Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xxtnsh0002wx6ugv1yegbc&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.585Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And another step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xxtnsi0003wx6u6l0mg47s&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.586Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And another step that passes&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.600Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:9,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that passes&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiVGhlIG9uZSB0aGF0IHBhc3NlcyIsInRpdGxlIjoiVGhlIG9uZSB0aGF0IHBhc3NlcyIsImlkIjoicmVwb3J0aW5nO3RoZS1vbmUtdGhhdC1wYXNzZXMiLCJtYW51YWwiOmZhbHNlLCJ0ZXN0U3RlcHMiOlt7Im51bWJlciI6MSwiZGVzY3JpcHRpb24iOiJHaXZlbiBhIHN0ZXAgdGhhdCBwYXNzZXMiLCJzdGFydFRpbWUiOjE1NzM2ODkwNDE1NzksImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjo0fSx7Im51bWJlciI6MiwiZGVzY3JpcHRpb24iOiJBbmQgYW5vdGhlciBzdGVwIHRoYXQgcGFzc2VzIiwic3RhcnRUaW1lIjoxNTczNjg5MDQxNTg1LCJjaGlsZHJlbiI6W10sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IlNVQ0NFU1MiLCJkdXJhdGlvbiI6MX1dLCJ1c2VyU3RvcnkiOnsiaWQiOiJyZXBvcnRpbmciLCJzdG9yeU5hbWUiOiJSZXBvcnRpbmciLCJwYXRoIjoiZmVhdHVyZXMvcmVwb3J0aW5nLmZlYXR1cmUiLCJ0eXBlIjoiZmVhdHVyZSJ9LCJzdGFydFRpbWUiOjE1NzM2ODkwNDE1NjgsInRlc3RTb3VyY2UiOiJDdWN1bWJlciIsInRhZ3MiOlt7Im5hbWUiOiJSZXBvcnRpbmciLCJ0eXBlIjoiZmVhdHVyZSJ9LHsibmFtZSI6IndpcCIsInR5cGUiOiJ0YWcifV0sImZlYXR1cmVUYWciOnsibmFtZSI6IlJlcG9ydGluZyIsInR5cGUiOiJmZWF0dXJlIn0sImR1cmF0aW9uIjozMiwicmVzdWx0IjoiU1VDQ0VTUyJ9&quot;},&quot;name&quot;:&quot;The one that passes&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.604Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-13T23:50:41.602Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;The one that passes&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-the-one-that-passes-0c74d8196f.json&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:50:41.611Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/reporting.feature:9
                |
                | Reporting: The one that passes
                |
                |   Given a step that passes
                |   And another step that passes
                |
                | &#x2713; Execution successful (32ms)
                | ================================================================================
                | Execution Summary
                |
                | Reporting:  1 successful, 1 total (32ms)
                |
                | Total time: 32ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));
    });

    describe(<span class="hljs-string">&apos;when the scenario fails with an error&apos;</span>, <span class="hljs-function">() =&gt;</span> {

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">&apos;prints the error message next to the step that has failed, and a full stack trace at the bottom&apos;</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.642Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:14,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that times out&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.642Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Reporting&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.642Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:14,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that times out&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;wip&quot;,&quot;type&quot;:&quot;tag&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.642Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:14,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that times out&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xy566v0000dd6u19y2orgh&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.648Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that times out&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xy569y0001dd6uj7acnq06&quot;,&quot;outcome&quot;:{&quot;code&quot;:2,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;Error\\&quot;,\\&quot;stack\\&quot;:\\&quot;Error: function timed out, ensure the promise resolves within 100 milliseconds\\\\n    at Timeout._time.default.setTimeout [as _onTimeout] (/Users/jan/Projects/serenity-js/node_modules/cucumber/lib/user_code_runner.js:76:18)\\\\n    at ontimeout (timers.js:436:11)\\\\n    at tryOnTimeout (timers.js:300:5)\\\\n    at listOnTimeout (timers.js:263:5)\\\\n    at Timer.processTimers (timers.js:223:10)\\&quot;,\\&quot;message\\&quot;:\\&quot;function timed out, ensure the promise resolves within 100 milliseconds\\&quot;}&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.758Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that times out&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:2,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;Error\\&quot;,\\&quot;stack\\&quot;:\\&quot;Error: function timed out, ensure the promise resolves within 100 milliseconds\\\\n    at Timeout._time.default.setTimeout [as _onTimeout] (/Users/jan/Projects/serenity-js/node_modules/cucumber/lib/user_code_runner.js:76:18)\\\\n    at ontimeout (timers.js:436:11)\\\\n    at tryOnTimeout (timers.js:300:5)\\\\n    at listOnTimeout (timers.js:263:5)\\\\n    at Timer.processTimers (timers.js:223:10)\\&quot;,\\&quot;message\\&quot;:\\&quot;function timed out, ensure the promise resolves within 100 milliseconds\\&quot;}&quot;},&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.774Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:14,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one that times out&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiVGhlIG9uZSB0aGF0IHRpbWVzIG91dCIsInRpdGxlIjoiVGhlIG9uZSB0aGF0IHRpbWVzIG91dCIsImlkIjoicmVwb3J0aW5nO3RoZS1vbmUtdGhhdC10aW1lcy1vdXQiLCJtYW51YWwiOmZhbHNlLCJ0ZXN0U3RlcHMiOlt7Im51bWJlciI6MSwiZGVzY3JpcHRpb24iOiJHaXZlbiBhIHN0ZXAgdGhhdCB0aW1lcyBvdXQiLCJzdGFydFRpbWUiOjE1NzM2ODk1Nzg2NDgsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiRVJST1IiLCJkdXJhdGlvbiI6MTEwLCJleGNlcHRpb24iOnsiZXJyb3JUeXBlIjoiRXJyb3IiLCJtZXNzYWdlIjoiZnVuY3Rpb24gdGltZWQgb3V0LCBlbnN1cmUgdGhlIHByb21pc2UgcmVzb2x2ZXMgd2l0aGluIDEwMCBtaWxsaXNlY29uZHMiLCJzdGFja1RyYWNlIjpbeyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJUaW1lb3V0Ll90aW1lLmRlZmF1bHQuc2V0VGltZW91dCBbYXMgX29uVGltZW91dF0oKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvY3VjdW1iZXIvbGliL3VzZXJfY29kZV9ydW5uZXIuanMiLCJsaW5lTnVtYmVyIjo3Nn0seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJvbnRpbWVvdXQoKSIsImZpbGVOYW1lIjoidGltZXJzLmpzIiwibGluZU51bWJlciI6NDM2fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InRyeU9uVGltZW91dCgpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjozMDB9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoibGlzdE9uVGltZW91dCgpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjoyNjN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiVGltZXIucHJvY2Vzc1RpbWVycygpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjoyMjN9XX19XSwidXNlclN0b3J5Ijp7ImlkIjoicmVwb3J0aW5nIiwic3RvcnlOYW1lIjoiUmVwb3J0aW5nIiwicGF0aCI6ImZlYXR1cmVzL3JlcG9ydGluZy5mZWF0dXJlIiwidHlwZSI6ImZlYXR1cmUifSwic3RhcnRUaW1lIjoxNTczNjg5NTc4NjQyLCJ0ZXN0U291cmNlIjoiQ3VjdW1iZXIiLCJ0YWdzIjpbeyJuYW1lIjoiUmVwb3J0aW5nIiwidHlwZSI6ImZlYXR1cmUifSx7Im5hbWUiOiJ3aXAiLCJ0eXBlIjoidGFnIn1dLCJmZWF0dXJlVGFnIjp7Im5hbWUiOiJSZXBvcnRpbmciLCJ0eXBlIjoiZmVhdHVyZSJ9LCJkdXJhdGlvbiI6MTMyLCJyZXN1bHQiOiJFUlJPUiIsInRlc3RGYWlsdXJlQ2F1c2UiOnsiZXJyb3JUeXBlIjoiRXJyb3IiLCJtZXNzYWdlIjoiZnVuY3Rpb24gdGltZWQgb3V0LCBlbnN1cmUgdGhlIHByb21pc2UgcmVzb2x2ZXMgd2l0aGluIDEwMCBtaWxsaXNlY29uZHMiLCJzdGFja1RyYWNlIjpbeyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJUaW1lb3V0Ll90aW1lLmRlZmF1bHQuc2V0VGltZW91dCBbYXMgX29uVGltZW91dF0oKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvY3VjdW1iZXIvbGliL3VzZXJfY29kZV9ydW5uZXIuanMiLCJsaW5lTnVtYmVyIjo3Nn0seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJvbnRpbWVvdXQoKSIsImZpbGVOYW1lIjoidGltZXJzLmpzIiwibGluZU51bWJlciI6NDM2fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InRyeU9uVGltZW91dCgpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjozMDB9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoibGlzdE9uVGltZW91dCgpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjoyNjN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiVGltZXIucHJvY2Vzc1RpbWVycygpIiwiZmlsZU5hbWUiOiJ0aW1lcnMuanMiLCJsaW5lTnVtYmVyIjoyMjN9XX19&quot;},&quot;name&quot;:&quot;The one that times out&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.778Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-13T23:59:38.777Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;The one that times out&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-the-one-that-times-out-cd6e130961.json&quot;,&quot;timestamp&quot;:&quot;2019-11-13T23:59:38.783Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/reporting.feature:14
                |
                | Reporting: The one that times out
                |
                |   Given a step that times out
                |     &#x2717; Error: function timed out, ensure the promise resolves within 100 milliseconds
                |
                | &#x2717; Execution failed with error (132ms)
                |
                |   Error: function timed out, ensure the promise resolves within 100 milliseconds
                |       at Timeout._time.default.setTimeout [as _onTimeout] (/Users/jan/Projects/serenity-js/node_modules/cucumber/lib/user_code_runner.js:76:18)
                |       at ontimeout (timers.js:436:11)
                |       at tryOnTimeout (timers.js:300:5)
                |       at listOnTimeout (timers.js:263:5)
                |       at Timer.processTimers (timers.js:223:10)
                | ================================================================================
                | Execution Summary
                |
                | Reporting:  1 broken, 1 total (132ms)
                |
                | Total time: 132ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">&apos;prints any steps that were skipped as a result of the failure&apos;</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.914Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:18,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with skipped steps&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.914Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Reporting&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.915Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:18,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with skipped steps&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;wip&quot;,&quot;type&quot;:&quot;tag&quot;},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.915Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:18,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with skipped steps&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkg0000x86u5hhg4v1i&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.920Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given step marked as pending&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkj0001x86ub4fifc1e&quot;,&quot;outcome&quot;:{&quot;code&quot;:8,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;ImplementationPendingError\\&quot;,\\&quot;stack\\&quot;:\\&quot;ImplementationPendingError: Step not implemented\\\\n    at CucumberEventProtocolAdapter.outcomeFrom (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:179:54)\\\\n    at EventEmitter.&lt;anonymous&gt; (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:140:54)\\\\n    at EventEmitter.emit (events.js:203:15)\\&quot;,\\&quot;message\\&quot;:\\&quot;Step not implemented\\&quot;}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.923Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given step marked as pending&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkm0002x86uxb6imypk&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.926Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkm0003x86uzfy3yd50&quot;,&quot;outcome&quot;:{&quot;code&quot;:32},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.926Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkn0004x86uhae8vjo9&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.927Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And another step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2xyihkn0005x86uky06tl7d&quot;,&quot;outcome&quot;:{&quot;code&quot;:32},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.927Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And another step that passes&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:8,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;ImplementationPendingError\\&quot;,\\&quot;stack\\&quot;:\\&quot;ImplementationPendingError: Step not implemented\\\\n    at CucumberEventProtocolAdapter.outcomeFrom (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:179:54)\\\\n    at EventEmitter.&lt;anonymous&gt; (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:155:28)\\\\n    at EventEmitter.emit (events.js:203:15)\\&quot;,\\&quot;message\\&quot;:\\&quot;Step not implemented\\&quot;}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.942Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:18,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with skipped steps&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiVGhlIG9uZSB3aXRoIHNraXBwZWQgc3RlcHMiLCJ0aXRsZSI6IlRoZSBvbmUgd2l0aCBza2lwcGVkIHN0ZXBzIiwiaWQiOiJyZXBvcnRpbmc7dGhlLW9uZS13aXRoLXNraXBwZWQtc3RlcHMiLCJtYW51YWwiOmZhbHNlLCJ0ZXN0U3RlcHMiOlt7Im51bWJlciI6MSwiZGVzY3JpcHRpb24iOiJHaXZlbiBzdGVwIG1hcmtlZCBhcyBwZW5kaW5nIiwic3RhcnRUaW1lIjoxNTczNjkwMTk5OTIwLCJjaGlsZHJlbiI6W10sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IlBFTkRJTkciLCJkdXJhdGlvbiI6M30seyJudW1iZXIiOjIsImRlc2NyaXB0aW9uIjoiQW5kIGEgc3RlcCB0aGF0IHBhc3NlcyIsInN0YXJ0VGltZSI6MTU3MzY5MDE5OTkyNiwiY2hpbGRyZW4iOltdLCJyZXBvcnREYXRhIjpbXSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJTS0lQUEVEIiwiZHVyYXRpb24iOjB9LHsibnVtYmVyIjozLCJkZXNjcmlwdGlvbiI6IkFuZCBhbm90aGVyIHN0ZXAgdGhhdCBwYXNzZXMiLCJzdGFydFRpbWUiOjE1NzM2OTAxOTk5MjcsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU0tJUFBFRCIsImR1cmF0aW9uIjowfV0sInVzZXJTdG9yeSI6eyJpZCI6InJlcG9ydGluZyIsInN0b3J5TmFtZSI6IlJlcG9ydGluZyIsInBhdGgiOiJmZWF0dXJlcy9yZXBvcnRpbmcuZmVhdHVyZSIsInR5cGUiOiJmZWF0dXJlIn0sInN0YXJ0VGltZSI6MTU3MzY5MDE5OTkxNCwidGVzdFNvdXJjZSI6IkN1Y3VtYmVyIiwidGFncyI6W3sibmFtZSI6IlJlcG9ydGluZyIsInR5cGUiOiJmZWF0dXJlIn0seyJuYW1lIjoid2lwIiwidHlwZSI6InRhZyJ9XSwiZmVhdHVyZVRhZyI6eyJuYW1lIjoiUmVwb3J0aW5nIiwidHlwZSI6ImZlYXR1cmUifSwiZHVyYXRpb24iOjI4LCJyZXN1bHQiOiJQRU5ESU5HIn0=&quot;},&quot;name&quot;:&quot;The one with skipped steps&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.946Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-14T00:09:59.945Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;The one with skipped steps&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-the-one-with-skipped-steps-884c9d1482.json&quot;,&quot;timestamp&quot;:&quot;2019-11-14T00:09:59.951Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/reporting.feature:18
                |
                | Reporting: The one with skipped steps
                |
                |   Given step marked as pending
                |     &#x2615;ImplementationPendingError: Step not implemented
                |   &#x21E2; And a step that passes
                |   &#x21E2; And another step that passes
                |
                | &#x2615;Implementation pending (28ms)
                |
                |   ImplementationPendingError: Step not implemented
                |       at CucumberEventProtocolAdapter.outcomeFrom (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:179:54)
                |       at EventEmitter.&lt;anonymous&gt; (/Users/jan/Projects/serenity-js/packages/cucumber/src/listeners/CucumberEventProtocolAdapter.ts:155:28)
                |       at EventEmitter.emit (events.js:203:15)
                | ================================================================================
                | Execution Summary
                |
                | Reporting:  1 pending, 1 total (28ms)
                |
                | Total time: 28ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">&apos;prints the details of the failed assertion&apos;</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.134Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:24,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with a failing assertion&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.134Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Reporting&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.134Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:24,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with a failing assertion&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;wip&quot;,&quot;type&quot;:&quot;tag&quot;},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.134Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:24,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with a failing assertion&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yr70000hd6u9qquvkpr&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.140Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that fails with an assertion error&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yrb0001hd6ub6joksw8&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.143Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis ensures that list of numbers does equal a Promise&quot;}}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yrb0001hd6ub6joksw8&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;AssertionReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJleHBlY3RlZCI6IltcbiAgMSxcbiAgMlxuXSIsImFjdHVhbCI6IltcbiAgMSxcbiAgMixcbiAgM1xuXSJ9&quot;},&quot;name&quot;:&quot;Assertion Report&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.144Z&quot;}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yrb0001hd6ub6joksw8&quot;,&quot;outcome&quot;:{&quot;code&quot;:4,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;stack\\&quot;:\\&quot;AssertionError: Expected list of numbers to equal a Promise\\\\n    at Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at Ensure.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:52:21)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Expected list of numbers to equal a Promise\\&quot;,\\&quot;expected\\&quot;:[1,2],\\&quot;actual\\&quot;:[1,2,3]}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.145Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis ensures that list of numbers does equal a Promise&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yri0003hd6utrdysnaq&quot;,&quot;outcome&quot;:{&quot;code&quot;:4,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;stack\\&quot;:\\&quot;AssertionError: Expected list of numbers to equal a Promise\\\\n    at Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at Ensure.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:52:21)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Expected list of numbers to equal a Promise\\&quot;,\\&quot;expected\\&quot;:[1,2],\\&quot;actual\\&quot;:[1,2,3]}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.150Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that fails with an assertion error&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yri0004hd6uezrh3spb&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.150Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2y19yrj0005hd6uhri1iovg&quot;,&quot;outcome&quot;:{&quot;code&quot;:32},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.151Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:4,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;stack\\&quot;:\\&quot;AssertionError: Expected list of numbers to equal a Promise\\\\n    at Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at Ensure.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:52:21)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Expected list of numbers to equal a Promise\\&quot;,\\&quot;expected\\&quot;:[1,2],\\&quot;actual\\&quot;:[1,2,3]}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.166Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:24,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with a failing assertion&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiVGhlIG9uZSB3aXRoIGEgZmFpbGluZyBhc3NlcnRpb24iLCJ0aXRsZSI6IlRoZSBvbmUgd2l0aCBhIGZhaWxpbmcgYXNzZXJ0aW9uIiwiaWQiOiJyZXBvcnRpbmc7dGhlLW9uZS13aXRoLWEtZmFpbGluZy1hc3NlcnRpb24iLCJtYW51YWwiOmZhbHNlLCJ0ZXN0U3RlcHMiOlt7Im51bWJlciI6MSwiZGVzY3JpcHRpb24iOiJHaXZlbiBhIHN0ZXAgdGhhdCBmYWlscyB3aXRoIGFuIGFzc2VydGlvbiBlcnJvciIsInN0YXJ0VGltZSI6MTU3MzY5NDg0MTE0MCwiY2hpbGRyZW4iOlt7Im51bWJlciI6MiwiZGVzY3JpcHRpb24iOiJBcnRlbWlzIGVuc3VyZXMgdGhhdCBsaXN0IG9mIG51bWJlcnMgZG9lcyBlcXVhbCBhIFByb21pc2UiLCJzdGFydFRpbWUiOjE1NzM2OTQ4NDExNDMsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W3siaWQiOiJyZXBvcnQtZGF0YS1jazJ5MTl5cmMwMDAyaGQ2dWJxZGFtaHozIiwiaXNFdmlkZW5jZSI6ZmFsc2UsInBhdGgiOiIiLCJ0aXRsZSI6IkFzc2VydGlvbiBSZXBvcnQiLCJjb250ZW50cyI6ImV4cGVjdGVkOiBbXG4gIDEsXG4gIDJcbl1cblxuYWN0dWFsOiBbXG4gIDEsXG4gIDIsXG4gIDNcbl0ifV0sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiRkFJTFVSRSIsImR1cmF0aW9uIjoyLCJleGNlcHRpb24iOnsiZXJyb3JUeXBlIjoiQXNzZXJ0aW9uRXJyb3IiLCJtZXNzYWdlIjoiRXhwZWN0ZWQgbGlzdCBvZiBudW1iZXJzIHRvIGVxdWFsIGEgUHJvbWlzZSIsInN0YWNrVHJhY2UiOlt7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6IkVuc3VyZS5hc0Fzc2VydGlvbkVycm9yKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6NTZ9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlLmVycm9yRm9yT3V0Y29tZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjUyfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS50cmFuc2Zvcm1hdGlvbigpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjMzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS5NYXRjaGVyUnVsZS5leGVjdXRlKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvbm9kZV9tb2R1bGVzL3RpbnktdHlwZXMvc3JjL3BhdHRlcm4tbWF0Y2hpbmcvcnVsZXMvTWF0Y2hlclJ1bGUudHMiLCJsaW5lTnVtYmVyIjoxM30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJPYmplY3RNYXRjaGVyLlBhdHRlcm5NYXRjaGVyLmVsc2UoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9QYXR0ZXJuTWF0Y2hlci50cyIsImxpbmVOdW1iZXIiOjE3fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InVuZGVmaW5lZCgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjM2fV19fV0sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IkZBSUxVUkUiLCJkdXJhdGlvbiI6MTB9LHsibnVtYmVyIjozLCJkZXNjcmlwdGlvbiI6IkFuZCBhIHN0ZXAgdGhhdCBwYXNzZXMiLCJzdGFydFRpbWUiOjE1NzM2OTQ4NDExNTAsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU0tJUFBFRCIsImR1cmF0aW9uIjoxfV0sInVzZXJTdG9yeSI6eyJpZCI6InJlcG9ydGluZyIsInN0b3J5TmFtZSI6IlJlcG9ydGluZyIsInBhdGgiOiJmZWF0dXJlcy9yZXBvcnRpbmcuZmVhdHVyZSIsInR5cGUiOiJmZWF0dXJlIn0sInN0YXJ0VGltZSI6MTU3MzY5NDg0MTEzNCwidGVzdFNvdXJjZSI6IkN1Y3VtYmVyIiwidGFncyI6W3sibmFtZSI6IlJlcG9ydGluZyIsInR5cGUiOiJmZWF0dXJlIn0seyJuYW1lIjoid2lwIiwidHlwZSI6InRhZyJ9XSwiZmVhdHVyZVRhZyI6eyJuYW1lIjoiUmVwb3J0aW5nIiwidHlwZSI6ImZlYXR1cmUifSwiZHVyYXRpb24iOjMyLCJyZXN1bHQiOiJGQUlMVVJFIiwidGVzdEZhaWx1cmVDYXVzZSI6eyJlcnJvclR5cGUiOiJBc3NlcnRpb25FcnJvciIsIm1lc3NhZ2UiOiJFeHBlY3RlZCBsaXN0IG9mIG51bWJlcnMgdG8gZXF1YWwgYSBQcm9taXNlIiwic3RhY2tUcmFjZSI6W3siZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlLmFzQXNzZXJ0aW9uRXJyb3IoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9wYWNrYWdlcy9hc3NlcnRpb25zL3NyYy9FbnN1cmUudHMiLCJsaW5lTnVtYmVyIjo1Nn0seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJFbnN1cmUuZXJyb3JGb3JPdXRjb21lKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6NTJ9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLnRyYW5zZm9ybWF0aW9uKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLk1hdGNoZXJSdWxlLmV4ZWN1dGUoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9ydWxlcy9NYXRjaGVyUnVsZS50cyIsImxpbmVOdW1iZXIiOjEzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik9iamVjdE1hdGNoZXIuUGF0dGVybk1hdGNoZXIuZWxzZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL25vZGVfbW9kdWxlcy90aW55LXR5cGVzL3NyYy9wYXR0ZXJuLW1hdGNoaW5nL1BhdHRlcm5NYXRjaGVyLnRzIiwibGluZU51bWJlciI6MTd9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoidW5kZWZpbmVkKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzZ9XX19&quot;},&quot;name&quot;:&quot;The one with a failing assertion&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.169Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-14T01:27:21.169Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;The one with a failing assertion&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-the-one-with-a-failing-assertion-50a7e2cebd.json&quot;,&quot;timestamp&quot;:&quot;2019-11-14T01:27:21.174Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/reporting.feature:24
                |
                | Reporting: The one with a failing assertion
                |
                |   Given a step that fails with an assertion error
                |     &#x2717; Artemis ensures that list of numbers does equal a Promise (2ms)
                |
                |       Difference (+ expected, - actual):
                |
                |         [
                |           1,
                |       -   2,
                |       -   3
                |       +   2
                |         ]
                |
                |   &#x21E2; And a step that passes
                |
                | &#x2717; Execution failed with assertion error (32ms)
                |
                |   AssertionError: Expected list of numbers to equal a Promise
                |       at Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)
                |       at Ensure.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:52:21)
                |       at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)
                |       at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)
                |       at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)
                |       at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26
                | ================================================================================
                | Execution Summary
                |
                | Reporting:  1 failed, 1 total (32ms)
                |
                | Total time: 32ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">&apos;pinpoints exactly where the failure happened&apos;</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.800Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:29,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with error propagation&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.800Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Reporting&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.801Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:29,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with error propagation&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;wip&quot;,&quot;type&quot;:&quot;tag&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.801Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:29,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with error propagation&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkp60000fa6uauhx7b0c&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.810Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that fails with an error compromising the test&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpa0001fa6uusada8jg&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.814Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis sets up the test data&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpa0002fa6u3bhkdnzq&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.814Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis connects to the database&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpb0003fa6u43q63m5z&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.815Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis ensures that the database server status does equal &apos;working&apos;&quot;}}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpb0003fa6u43q63m5z&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;AssertionReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJleHBlY3RlZCI6Iid3b3JraW5nJyIsImFjdHVhbCI6Iidkb3duJyJ9&quot;},&quot;name&quot;:&quot;Assertion Report&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.816Z&quot;}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpb0003fa6u43q63m5z&quot;,&quot;outcome&quot;:{&quot;code&quot;:1,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;TestCompromisedError\\&quot;,\\&quot;stack\\&quot;:\\&quot;TestCompromisedError: Database server is down\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\\\nCaused by: AssertionError: Expected the database server status to equal &apos;working&apos;\\\\n    at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Database server is down\\&quot;,\\&quot;cause\\&quot;:{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;expected\\&quot;:\\&quot;working\\&quot;,\\&quot;actual\\&quot;:\\&quot;down\\&quot;}}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.822Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis ensures that the database server status does equal &apos;working&apos;&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpa0002fa6u3bhkdnzq&quot;,&quot;outcome&quot;:{&quot;code&quot;:1,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;TestCompromisedError\\&quot;,\\&quot;stack\\&quot;:\\&quot;TestCompromisedError: Database server is down\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\\\nCaused by: AssertionError: Expected the database server status to equal &apos;working&apos;\\\\n    at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Database server is down\\&quot;,\\&quot;cause\\&quot;:{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;expected\\&quot;:\\&quot;working\\&quot;,\\&quot;actual\\&quot;:\\&quot;down\\&quot;}}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.826Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis connects to the database&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpa0001fa6uusada8jg&quot;,&quot;outcome&quot;:{&quot;code&quot;:1,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;TestCompromisedError\\&quot;,\\&quot;stack\\&quot;:\\&quot;TestCompromisedError: Database server is down\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\\\nCaused by: AssertionError: Expected the database server status to equal &apos;working&apos;\\\\n    at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Database server is down\\&quot;,\\&quot;cause\\&quot;:{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;expected\\&quot;:\\&quot;working\\&quot;,\\&quot;actual\\&quot;:\\&quot;down\\&quot;}}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.827Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Artemis sets up the test data&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpr0005fa6u1ceh2z6k&quot;,&quot;outcome&quot;:{&quot;code&quot;:1,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;TestCompromisedError\\&quot;,\\&quot;stack\\&quot;:\\&quot;TestCompromisedError: Database server is down\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\\\nCaused by: AssertionError: Expected the database server status to equal &apos;working&apos;\\\\n    at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Database server is down\\&quot;,\\&quot;cause\\&quot;:{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;expected\\&quot;:\\&quot;working\\&quot;,\\&quot;actual\\&quot;:\\&quot;down\\&quot;}}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.831Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Given a step that fails with an error compromising the test&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkps0006fa6u7qp3o1io&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.832Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zcfkpt0007fa6uer31d05y&quot;,&quot;outcome&quot;:{&quot;code&quot;:32},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.833Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;And a step that passes&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:1,&quot;error&quot;:&quot;{\\&quot;name\\&quot;:\\&quot;TestCompromisedError\\&quot;,\\&quot;stack\\&quot;:\\&quot;TestCompromisedError: Database server is down\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\\\nCaused by: AssertionError: Expected the database server status to equal &apos;working&apos;\\\\n    at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)\\\\n    at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)\\\\n    at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)\\\\n    at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)\\\\n    at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)\\\\n    at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26\\&quot;,\\&quot;message\\&quot;:\\&quot;Database server is down\\&quot;,\\&quot;cause\\&quot;:{\\&quot;name\\&quot;:\\&quot;AssertionError\\&quot;,\\&quot;expected\\&quot;:\\&quot;working\\&quot;,\\&quot;actual\\&quot;:\\&quot;down\\&quot;}}&quot;},&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.849Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Reporting&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:29,&quot;path&quot;:&quot;features/reporting.feature&quot;},&quot;name&quot;:&quot;The one with error propagation&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiVGhlIG9uZSB3aXRoIGVycm9yIHByb3BhZ2F0aW9uIiwidGl0bGUiOiJUaGUgb25lIHdpdGggZXJyb3IgcHJvcGFnYXRpb24iLCJpZCI6InJlcG9ydGluZzt0aGUtb25lLXdpdGgtZXJyb3ItcHJvcGFnYXRpb24iLCJtYW51YWwiOmZhbHNlLCJ0ZXN0U3RlcHMiOlt7Im51bWJlciI6MSwiZGVzY3JpcHRpb24iOiJHaXZlbiBhIHN0ZXAgdGhhdCBmYWlscyB3aXRoIGFuIGVycm9yIGNvbXByb21pc2luZyB0aGUgdGVzdCIsInN0YXJ0VGltZSI6MTU3Mzc3NDA0NDgxMCwiY2hpbGRyZW4iOlt7Im51bWJlciI6MiwiZGVzY3JpcHRpb24iOiJBcnRlbWlzIHNldHMgdXAgdGhlIHRlc3QgZGF0YSIsInN0YXJ0VGltZSI6MTU3Mzc3NDA0NDgxNCwiY2hpbGRyZW4iOlt7Im51bWJlciI6MywiZGVzY3JpcHRpb24iOiJBcnRlbWlzIGNvbm5lY3RzIHRvIHRoZSBkYXRhYmFzZSIsInN0YXJ0VGltZSI6MTU3Mzc3NDA0NDgxNCwiY2hpbGRyZW4iOlt7Im51bWJlciI6NCwiZGVzY3JpcHRpb24iOiJBcnRlbWlzIGVuc3VyZXMgdGhhdCB0aGUgZGF0YWJhc2Ugc2VydmVyIHN0YXR1cyBkb2VzIGVxdWFsICd3b3JraW5nJyIsInN0YXJ0VGltZSI6MTU3Mzc3NDA0NDgxNSwiY2hpbGRyZW4iOltdLCJyZXBvcnREYXRhIjpbeyJpZCI6InJlcG9ydC1kYXRhLWNrMnpjZmtwZDAwMDRmYTZ1ZTBwbmoxZXAiLCJpc0V2aWRlbmNlIjpmYWxzZSwicGF0aCI6IiIsInRpdGxlIjoiQXNzZXJ0aW9uIFJlcG9ydCIsImNvbnRlbnRzIjoiZXhwZWN0ZWQ6ICd3b3JraW5nJ1xuXG5hY3R1YWw6ICdkb3duJyJ9XSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJDT01QUk9NSVNFRCIsImR1cmF0aW9uIjo3LCJleGNlcHRpb24iOnsiZXJyb3JUeXBlIjoiVGVzdENvbXByb21pc2VkRXJyb3IiLCJtZXNzYWdlIjoiRGF0YWJhc2Ugc2VydmVyIGlzIGRvd24iLCJzdGFja1RyYWNlIjpbeyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJFbnN1cmVPckZhaWxXaXRoQ3VzdG9tRXJyb3IuZXJyb3JGb3JPdXRjb21lKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6ODd9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLnRyYW5zZm9ybWF0aW9uKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLk1hdGNoZXJSdWxlLmV4ZWN1dGUoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9ydWxlcy9NYXRjaGVyUnVsZS50cyIsImxpbmVOdW1iZXIiOjEzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik9iamVjdE1hdGNoZXIuUGF0dGVybk1hdGNoZXIuZWxzZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL25vZGVfbW9kdWxlcy90aW55LXR5cGVzL3NyYy9wYXR0ZXJuLW1hdGNoaW5nL1BhdHRlcm5NYXRjaGVyLnRzIiwibGluZU51bWJlciI6MTd9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoidW5kZWZpbmVkKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzZ9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlT3JGYWlsV2l0aEN1c3RvbUVycm9yLkVuc3VyZS5hc0Fzc2VydGlvbkVycm9yKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6NTZ9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlT3JGYWlsV2l0aEN1c3RvbUVycm9yLmVycm9yRm9yT3V0Y29tZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjg1fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS50cmFuc2Zvcm1hdGlvbigpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjMzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS5NYXRjaGVyUnVsZS5leGVjdXRlKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvbm9kZV9tb2R1bGVzL3RpbnktdHlwZXMvc3JjL3BhdHRlcm4tbWF0Y2hpbmcvcnVsZXMvTWF0Y2hlclJ1bGUudHMiLCJsaW5lTnVtYmVyIjoxM30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJPYmplY3RNYXRjaGVyLlBhdHRlcm5NYXRjaGVyLmVsc2UoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9QYXR0ZXJuTWF0Y2hlci50cyIsImxpbmVOdW1iZXIiOjE3fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InVuZGVmaW5lZCgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjM2fV0sInJvb3RDYXVzZSI6eyJlcnJvclR5cGUiOiJBc3NlcnRpb25FcnJvciIsIm1lc3NhZ2UiOiJFeHBlY3RlZCB0aGUgZGF0YWJhc2Ugc2VydmVyIHN0YXR1cyB0byBlcXVhbCAnd29ya2luZyciLCJzdGFja1RyYWNlIjpbeyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJFbnN1cmVPckZhaWxXaXRoQ3VzdG9tRXJyb3IuRW5zdXJlLmFzQXNzZXJ0aW9uRXJyb3IoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9wYWNrYWdlcy9hc3NlcnRpb25zL3NyYy9FbnN1cmUudHMiLCJsaW5lTnVtYmVyIjo1Nn0seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJFbnN1cmVPckZhaWxXaXRoQ3VzdG9tRXJyb3IuZXJyb3JGb3JPdXRjb21lKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6ODV9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLnRyYW5zZm9ybWF0aW9uKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiTWF0Y2hlc09iamVjdHNXaXRoQ29tbW9uUHJvdG90eXBlLk1hdGNoZXJSdWxlLmV4ZWN1dGUoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9ydWxlcy9NYXRjaGVyUnVsZS50cyIsImxpbmVOdW1iZXIiOjEzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik9iamVjdE1hdGNoZXIuUGF0dGVybk1hdGNoZXIuZWxzZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL25vZGVfbW9kdWxlcy90aW55LXR5cGVzL3NyYy9wYXR0ZXJuLW1hdGNoaW5nL1BhdHRlcm5NYXRjaGVyLnRzIiwibGluZU51bWJlciI6MTd9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoidW5kZWZpbmVkKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6MzZ9XX19fV0sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IkNPTVBST01JU0VEIiwiZHVyYXRpb24iOjEyfV0sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IkNPTVBST01JU0VEIiwiZHVyYXRpb24iOjEzfV0sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IkNPTVBST01JU0VEIiwiZHVyYXRpb24iOjIxfSx7Im51bWJlciI6NSwiZGVzY3JpcHRpb24iOiJBbmQgYSBzdGVwIHRoYXQgcGFzc2VzIiwic3RhcnRUaW1lIjoxNTczNzc0MDQ0ODMyLCJjaGlsZHJlbiI6W10sInJlcG9ydERhdGEiOltdLCJzY3JlZW5zaG90cyI6W10sInJlc3VsdCI6IlNLSVBQRUQiLCJkdXJhdGlvbiI6MX1dLCJ1c2VyU3RvcnkiOnsiaWQiOiJyZXBvcnRpbmciLCJzdG9yeU5hbWUiOiJSZXBvcnRpbmciLCJwYXRoIjoiZmVhdHVyZXMvcmVwb3J0aW5nLmZlYXR1cmUiLCJ0eXBlIjoiZmVhdHVyZSJ9LCJzdGFydFRpbWUiOjE1NzM3NzQwNDQ4MDAsInRlc3RTb3VyY2UiOiJDdWN1bWJlciIsInRhZ3MiOlt7Im5hbWUiOiJSZXBvcnRpbmciLCJ0eXBlIjoiZmVhdHVyZSJ9LHsibmFtZSI6IndpcCIsInR5cGUiOiJ0YWcifV0sImZlYXR1cmVUYWciOnsibmFtZSI6IlJlcG9ydGluZyIsInR5cGUiOiJmZWF0dXJlIn0sImR1cmF0aW9uIjo0OSwicmVzdWx0IjoiQ09NUFJPTUlTRUQiLCJ0ZXN0RmFpbHVyZUNhdXNlIjp7ImVycm9yVHlwZSI6IlRlc3RDb21wcm9taXNlZEVycm9yIiwibWVzc2FnZSI6IkRhdGFiYXNlIHNlcnZlciBpcyBkb3duIiwic3RhY2tUcmFjZSI6W3siZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlT3JGYWlsV2l0aEN1c3RvbUVycm9yLmVycm9yRm9yT3V0Y29tZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjg3fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS50cmFuc2Zvcm1hdGlvbigpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjMzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS5NYXRjaGVyUnVsZS5leGVjdXRlKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvbm9kZV9tb2R1bGVzL3RpbnktdHlwZXMvc3JjL3BhdHRlcm4tbWF0Y2hpbmcvcnVsZXMvTWF0Y2hlclJ1bGUudHMiLCJsaW5lTnVtYmVyIjoxM30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJPYmplY3RNYXRjaGVyLlBhdHRlcm5NYXRjaGVyLmVsc2UoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9QYXR0ZXJuTWF0Y2hlci50cyIsImxpbmVOdW1iZXIiOjE3fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InVuZGVmaW5lZCgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjM2fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6IkVuc3VyZU9yRmFpbFdpdGhDdXN0b21FcnJvci5FbnN1cmUuYXNBc3NlcnRpb25FcnJvcigpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjU2fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6IkVuc3VyZU9yRmFpbFdpdGhDdXN0b21FcnJvci5lcnJvckZvck91dGNvbWUoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9wYWNrYWdlcy9hc3NlcnRpb25zL3NyYy9FbnN1cmUudHMiLCJsaW5lTnVtYmVyIjo4NX0seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJNYXRjaGVzT2JqZWN0c1dpdGhDb21tb25Qcm90b3R5cGUudHJhbnNmb3JtYXRpb24oKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9wYWNrYWdlcy9hc3NlcnRpb25zL3NyYy9FbnN1cmUudHMiLCJsaW5lTnVtYmVyIjozM30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJNYXRjaGVzT2JqZWN0c1dpdGhDb21tb25Qcm90b3R5cGUuTWF0Y2hlclJ1bGUuZXhlY3V0ZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL25vZGVfbW9kdWxlcy90aW55LXR5cGVzL3NyYy9wYXR0ZXJuLW1hdGNoaW5nL3J1bGVzL01hdGNoZXJSdWxlLnRzIiwibGluZU51bWJlciI6MTN9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiT2JqZWN0TWF0Y2hlci5QYXR0ZXJuTWF0Y2hlci5lbHNlKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvbm9kZV9tb2R1bGVzL3RpbnktdHlwZXMvc3JjL3BhdHRlcm4tbWF0Y2hpbmcvUGF0dGVybk1hdGNoZXIudHMiLCJsaW5lTnVtYmVyIjoxN30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJ1bmRlZmluZWQoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9wYWNrYWdlcy9hc3NlcnRpb25zL3NyYy9FbnN1cmUudHMiLCJsaW5lTnVtYmVyIjozNn1dLCJyb290Q2F1c2UiOnsiZXJyb3JUeXBlIjoiQXNzZXJ0aW9uRXJyb3IiLCJtZXNzYWdlIjoiRXhwZWN0ZWQgdGhlIGRhdGFiYXNlIHNlcnZlciBzdGF0dXMgdG8gZXF1YWwgJ3dvcmtpbmcnIiwic3RhY2tUcmFjZSI6W3siZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlT3JGYWlsV2l0aEN1c3RvbUVycm9yLkVuc3VyZS5hc0Fzc2VydGlvbkVycm9yKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvcGFja2FnZXMvYXNzZXJ0aW9ucy9zcmMvRW5zdXJlLnRzIiwibGluZU51bWJlciI6NTZ9LHsiZGVjbGFyaW5nQ2xhc3MiOiIiLCJtZXRob2ROYW1lIjoiRW5zdXJlT3JGYWlsV2l0aEN1c3RvbUVycm9yLmVycm9yRm9yT3V0Y29tZSgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjg1fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS50cmFuc2Zvcm1hdGlvbigpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjMzfSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6Ik1hdGNoZXNPYmplY3RzV2l0aENvbW1vblByb3RvdHlwZS5NYXRjaGVyUnVsZS5leGVjdXRlKCkiLCJmaWxlTmFtZSI6Ii9Vc2Vycy9qYW4vUHJvamVjdHMvc2VyZW5pdHktanMvbm9kZV9tb2R1bGVzL3RpbnktdHlwZXMvc3JjL3BhdHRlcm4tbWF0Y2hpbmcvcnVsZXMvTWF0Y2hlclJ1bGUudHMiLCJsaW5lTnVtYmVyIjoxM30seyJkZWNsYXJpbmdDbGFzcyI6IiIsIm1ldGhvZE5hbWUiOiJPYmplY3RNYXRjaGVyLlBhdHRlcm5NYXRjaGVyLmVsc2UoKSIsImZpbGVOYW1lIjoiL1VzZXJzL2phbi9Qcm9qZWN0cy9zZXJlbml0eS1qcy9ub2RlX21vZHVsZXMvdGlueS10eXBlcy9zcmMvcGF0dGVybi1tYXRjaGluZy9QYXR0ZXJuTWF0Y2hlci50cyIsImxpbmVOdW1iZXIiOjE3fSx7ImRlY2xhcmluZ0NsYXNzIjoiIiwibWV0aG9kTmFtZSI6InVuZGVmaW5lZCgpIiwiZmlsZU5hbWUiOiIvVXNlcnMvamFuL1Byb2plY3RzL3NlcmVuaXR5LWpzL3BhY2thZ2VzL2Fzc2VydGlvbnMvc3JjL0Vuc3VyZS50cyIsImxpbmVOdW1iZXIiOjM2fV19fX0=&quot;},&quot;name&quot;:&quot;The one with error propagation&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.852Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-14T23:27:24.851Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;The one with error propagation&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-the-one-with-error-propagation-f22a55694f.json&quot;,&quot;timestamp&quot;:&quot;2019-11-14T23:27:24.858Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/reporting.feature:29
                |
                | Reporting: The one with error propagation
                |
                |   Given a step that fails with an error compromising the test
                |     Artemis sets up the test data
                |       Artemis connects to the database
                |         &#x2717; Artemis ensures that the database server status does equal &apos;working&apos; (7ms)
                |           TestCompromisedError: Database server is down
                |
                |           Difference (+ expected, - actual):
                |
                |           - &apos;down&apos;
                |           + &apos;working&apos;
                |
                |   &#x21E2; And a step that passes
                |
                | &#x2717; Execution compromised (49ms)
                |
                |   TestCompromisedError: Database server is down
                |       at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:87:16)
                |       at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)
                |       at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)
                |       at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)
                |       at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26
                |   Caused by: AssertionError: Expected the database server status to equal &apos;working&apos;
                |       at EnsureOrFailWithCustomError.Ensure.asAssertionError (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:56:16)
                |       at EnsureOrFailWithCustomError.errorForOutcome (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:85:37)
                |       at MatchesObjectsWithCommonPrototype.transformation (/Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:33:36)
                |       at MatchesObjectsWithCommonPrototype.MatcherRule.execute (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/rules/MatcherRule.ts:13:21)
                |       at ObjectMatcher.PatternMatcher.else (/Users/jan/Projects/serenity-js/node_modules/tiny-types/src/pattern-matching/PatternMatcher.ts:17:71)
                |       at /Users/jan/Projects/serenity-js/packages/assertions/src/Ensure.ts:36:26
                | ================================================================================
                | Execution Summary
                |
                | Reporting:  1 compromised, 1 total (49ms)
                |
                | Total time: 49ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));
    });

    describe(<span class="hljs-string">&apos;when the developer logs arbitrary data&apos;</span>, <span class="hljs-function">() =&gt;</span> {

        <span class="hljs-comment">/** <span class="hljs-doctag">@test <span class="hljs-type">{ConsoleReporter}</span> </span>*/</span>
        it(<span class="hljs-string">`prints it together with an appropriate name for each entry (if different from the content itself)`</span>, <span class="hljs-function">() =&gt;</span> emitter.emit(<span class="hljs-string">`
            {&quot;type&quot;:&quot;SceneStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.366Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Calculations API&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:17,&quot;path&quot;:&quot;features/api/calculations.feature&quot;},&quot;name&quot;:&quot;Calculates result of an expression&quot;}}}
            {&quot;type&quot;:&quot;TestRunnerDetected&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.366Z&quot;,&quot;name&quot;:&quot;Cucumber&quot;}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;api&quot;,&quot;type&quot;:&quot;capability&quot;},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.366Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Calculations API&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:17,&quot;path&quot;:&quot;features/api/calculations.feature&quot;},&quot;name&quot;:&quot;Calculates result of an expression&quot;}}}
            {&quot;type&quot;:&quot;SceneTagged&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;tag&quot;:{&quot;name&quot;:&quot;Calculations API&quot;,&quot;type&quot;:&quot;feature&quot;},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.366Z&quot;,&quot;value&quot;:{&quot;category&quot;:&quot;Calculations API&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:17,&quot;path&quot;:&quot;features/api/calculations.feature&quot;},&quot;name&quot;:&quot;Calculates result of an expression&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc510000p66uizjogeqq&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.373Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt starts the local server&quot;}}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc510000p66uizjogeqq&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.378Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt starts the local server&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc570001p66udhh2g6fl&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.379Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt changes the API URL to the URL of the local server&quot;}}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc570001p66udhh2g6fl&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.380Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt changes the API URL to the URL of the local server&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc590002p66u2hcup2k5&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.381Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;When Apisitt asks for the following calculation: 2 + 2&quot;}}}
            {&quot;type&quot;:&quot;TaskStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5a0003p66ucebv6cfk&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.382Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt requests calculation of 2 + 2&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5b0004p66unfin36rs&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.383Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt sends a POST request to &apos;/api/calculations&apos;&quot;}}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5b0004p66unfin36rs&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;HTTPRequestResponse&quot;,&quot;base64EncodedValue&quot;:&quot;eyJyZXF1ZXN0Ijp7Im1ldGhvZCI6InBvc3QiLCJ1cmwiOiJodHRwOi8vMTI3LjAuMC4xOjUzNTM5L2FwaS9jYWxjdWxhdGlvbnMiLCJoZWFkZXJzIjp7IkFjY2VwdCI6ImFwcGxpY2F0aW9uL2pzb24sYXBwbGljYXRpb24veG1sIiwiQ29udGVudC1UeXBlIjoidGV4dC9wbGFpbiIsIlVzZXItQWdlbnQiOiJheGlvcy8wLjE5LjAiLCJDb250ZW50LUxlbmd0aCI6NX0sImRhdGEiOiIyICsgMiJ9LCJyZXNwb25zZSI6eyJzdGF0dXMiOjIwMSwiaGVhZGVycyI6eyJ4LXBvd2VyZWQtYnkiOiJFeHByZXNzIiwibG9jYXRpb24iOiIvYXBpL2NhbGN1bGF0aW9ucy9jazJ6ZnhjNXIwMDAwcDY2dXM4dDRvYTM2IiwiZGF0ZSI6IkZyaSwgMTUgTm92IDIwMTkgMDE6MDU6MTIgR01UIiwiY29ubmVjdGlvbiI6ImNsb3NlIiwiY29udGVudC1sZW5ndGgiOiIwIn0sImRhdGEiOiIifX0=&quot;},&quot;name&quot;:&quot;request post http://127.0.0.1:53539/api/calculations&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.402Z&quot;}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5b0004p66unfin36rs&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.403Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt sends a POST request to &apos;/api/calculations&apos;&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5v0005p66u6nbljt4u&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.403Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt ensures that the status of the last response does equal 201&quot;}}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5v0005p66u6nbljt4u&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.404Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt ensures that the status of the last response does equal 201&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0006p66uzpzqqi7m&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.404Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt ensures that the &apos;location&apos; header of the last response does start with &apos;/api/calculations/&apos;&quot;}}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0006p66uzpzqqi7m&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.404Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt ensures that the &apos;location&apos; header of the last response does start with &apos;/api/calculations/&apos;&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0007p66uctan5o3f&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.404Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt logs: the status of the last response, the &apos;location&apos; header of the last response, banana&quot;}}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0007p66uctan5o3f&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;LogEntry&quot;,&quot;base64EncodedValue&quot;:&quot;eyJkYXRhIjoiMjAxIn0=&quot;},&quot;name&quot;:&quot;the status of the last response&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.404Z&quot;}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0007p66uctan5o3f&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;LogEntry&quot;,&quot;base64EncodedValue&quot;:&quot;eyJkYXRhIjoiJy9hcGkvY2FsY3VsYXRpb25zL2NrMnpmeGM1cjAwMDBwNjZ1czh0NG9hMzYnIn0=&quot;},&quot;name&quot;:&quot;the &apos;location&apos; header of the last response&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.405Z&quot;}}
            {&quot;type&quot;:&quot;ActivityRelatedArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0007p66uctan5o3f&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;LogEntry&quot;,&quot;base64EncodedValue&quot;:&quot;eyJkYXRhIjoiJ2JhbmFuYScifQ==&quot;},&quot;name&quot;:&quot;&apos;banana&apos;&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.405Z&quot;}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5w0007p66uctan5o3f&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.405Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt logs: the status of the last response, the &apos;location&apos; header of the last response, banana&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5a0003p66ucebv6cfk&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.405Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt requests calculation of 2 + 2&quot;}}}
            {&quot;type&quot;:&quot;TaskFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5y000bp66uos98j4q3&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.406Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;When Apisitt asks for the following calculation: 2 + 2&quot;}}}
            {&quot;type&quot;:&quot;InteractionStarts&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5z000cp66uj8gxxfeb&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.407Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt stops the local server&quot;}}}
            {&quot;type&quot;:&quot;InteractionFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;activityId&quot;:&quot;ck2zfxc5z000cp66uj8gxxfeb&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.407Z&quot;,&quot;details&quot;:{&quot;name&quot;:&quot;Apisitt stops the local server&quot;}}}
            {&quot;type&quot;:&quot;SceneFinished&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;outcome&quot;:{&quot;code&quot;:64},&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.421Z&quot;,&quot;details&quot;:{&quot;category&quot;:&quot;Calculations API&quot;,&quot;location&quot;:{&quot;column&quot;:3,&quot;line&quot;:17,&quot;path&quot;:&quot;features/api/calculations.feature&quot;},&quot;name&quot;:&quot;Calculates result of an expression&quot;}}}
            {&quot;type&quot;:&quot;ArtifactGenerated&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;artifact&quot;:{&quot;type&quot;:&quot;TestReport&quot;,&quot;base64EncodedValue&quot;:&quot;eyJuYW1lIjoiQ2FsY3VsYXRlcyByZXN1bHQgb2YgYW4gZXhwcmVzc2lvbiIsInRpdGxlIjoiQ2FsY3VsYXRlcyByZXN1bHQgb2YgYW4gZXhwcmVzc2lvbiIsImlkIjoiY2FsY3VsYXRpb25zLWFwaTtjYWxjdWxhdGVzLXJlc3VsdC1vZi1hbi1leHByZXNzaW9uIiwibWFudWFsIjpmYWxzZSwidGVzdFN0ZXBzIjpbeyJudW1iZXIiOjEsImRlc2NyaXB0aW9uIjoiQXBpc2l0dCBzdGFydHMgdGhlIGxvY2FsIHNlcnZlciIsInN0YXJ0VGltZSI6MTU3Mzc3OTkxMjM3MywiY2hpbGRyZW4iOltdLCJyZXBvcnREYXRhIjpbXSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJTVUNDRVNTIiwiZHVyYXRpb24iOjV9LHsibnVtYmVyIjoyLCJkZXNjcmlwdGlvbiI6IkFwaXNpdHQgY2hhbmdlcyB0aGUgQVBJIFVSTCB0byB0aGUgVVJMIG9mIHRoZSBsb2NhbCBzZXJ2ZXIiLCJzdGFydFRpbWUiOjE1NzM3Nzk5MTIzNzksImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjoxfSx7Im51bWJlciI6MywiZGVzY3JpcHRpb24iOiJXaGVuIEFwaXNpdHQgYXNrcyBmb3IgdGhlIGZvbGxvd2luZyBjYWxjdWxhdGlvbjogMiArIDIiLCJzdGFydFRpbWUiOjE1NzM3Nzk5MTIzODEsImNoaWxkcmVuIjpbeyJudW1iZXIiOjQsImRlc2NyaXB0aW9uIjoiQXBpc2l0dCByZXF1ZXN0cyBjYWxjdWxhdGlvbiBvZiAyICsgMiIsInN0YXJ0VGltZSI6MTU3Mzc3OTkxMjM4MiwiY2hpbGRyZW4iOlt7Im51bWJlciI6NSwiZGVzY3JpcHRpb24iOiJBcGlzaXR0IHNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvICcvYXBpL2NhbGN1bGF0aW9ucyciLCJzdGFydFRpbWUiOjE1NzM3Nzk5MTIzODMsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdFF1ZXJ5Ijp7Im1ldGhvZCI6IlBPU1QiLCJwYXRoIjoiaHR0cDovLzEyNy4wLjAuMTo1MzUzOS9hcGkvY2FsY3VsYXRpb25zIiwiY29udGVudCI6IicyICsgMiciLCJjb250ZW50VHlwZSI6InRleHQvcGxhaW4iLCJyZXF1ZXN0SGVhZGVycyI6IkFjY2VwdDogYXBwbGljYXRpb24vanNvbixhcHBsaWNhdGlvbi94bWxcbkNvbnRlbnQtVHlwZTogdGV4dC9wbGFpblxuVXNlci1BZ2VudDogYXhpb3MvMC4xOS4wXG5Db250ZW50LUxlbmd0aDogNSIsInJlcXVlc3RDb29raWVzIjoiIiwic3RhdHVzQ29kZSI6MjAxLCJyZXNwb25zZUhlYWRlcnMiOiJ4LXBvd2VyZWQtYnk6IEV4cHJlc3NcbmxvY2F0aW9uOiAvYXBpL2NhbGN1bGF0aW9ucy9jazJ6ZnhjNXIwMDAwcDY2dXM4dDRvYTM2XG5kYXRlOiBGcmksIDE1IE5vdiAyMDE5IDAxOjA1OjEyIEdNVFxuY29ubmVjdGlvbjogY2xvc2VcbmNvbnRlbnQtbGVuZ3RoOiAwIiwicmVzcG9uc2VDb29raWVzIjoiIiwicmVzcG9uc2VCb2R5IjoiJycifSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjoyMH0seyJudW1iZXIiOjYsImRlc2NyaXB0aW9uIjoiQXBpc2l0dCBlbnN1cmVzIHRoYXQgdGhlIHN0YXR1cyBvZiB0aGUgbGFzdCByZXNwb25zZSBkb2VzIGVxdWFsIDIwMSIsInN0YXJ0VGltZSI6MTU3Mzc3OTkxMjQwMywiY2hpbGRyZW4iOltdLCJyZXBvcnREYXRhIjpbXSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJTVUNDRVNTIiwiZHVyYXRpb24iOjF9LHsibnVtYmVyIjo3LCJkZXNjcmlwdGlvbiI6IkFwaXNpdHQgZW5zdXJlcyB0aGF0IHRoZSAnbG9jYXRpb24nIGhlYWRlciBvZiB0aGUgbGFzdCByZXNwb25zZSBkb2VzIHN0YXJ0IHdpdGggJy9hcGkvY2FsY3VsYXRpb25zLyciLCJzdGFydFRpbWUiOjE1NzM3Nzk5MTI0MDQsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjowfSx7Im51bWJlciI6OCwiZGVzY3JpcHRpb24iOiJBcGlzaXR0IGxvZ3M6IHRoZSBzdGF0dXMgb2YgdGhlIGxhc3QgcmVzcG9uc2UsIHRoZSAnbG9jYXRpb24nIGhlYWRlciBvZiB0aGUgbGFzdCByZXNwb25zZSwgYmFuYW5hIiwic3RhcnRUaW1lIjoxNTczNzc5OTEyNDA0LCJjaGlsZHJlbiI6W10sInJlcG9ydERhdGEiOlt7ImlkIjoicmVwb3J0LWRhdGEtY2syemZ4YzV4MDAwOHA2NnV5YTlqM2NxeiIsImlzRXZpZGVuY2UiOmZhbHNlLCJwYXRoIjoiIiwidGl0bGUiOiJ0aGUgc3RhdHVzIG9mIHRoZSBsYXN0IHJlc3BvbnNlIiwiY29udGVudHMiOiIyMDEifSx7ImlkIjoicmVwb3J0LWRhdGEtY2syemZ4YzV4MDAwOXA2NnVxNThlcXZlcyIsImlzRXZpZGVuY2UiOmZhbHNlLCJwYXRoIjoiIiwidGl0bGUiOiJ0aGUgJ2xvY2F0aW9uJyBoZWFkZXIgb2YgdGhlIGxhc3QgcmVzcG9uc2UiLCJjb250ZW50cyI6IicvYXBpL2NhbGN1bGF0aW9ucy9jazJ6ZnhjNXIwMDAwcDY2dXM4dDRvYTM2JyJ9LHsiaWQiOiJyZXBvcnQtZGF0YS1jazJ6ZnhjNXgwMDBhcDY2dTB5YnFlazc0IiwiaXNFdmlkZW5jZSI6ZmFsc2UsInBhdGgiOiIiLCJ0aXRsZSI6IidiYW5hbmEnIiwiY29udGVudHMiOiInYmFuYW5hJyJ9XSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJTVUNDRVNTIiwiZHVyYXRpb24iOjF9XSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjoyM31dLCJyZXBvcnREYXRhIjpbXSwic2NyZWVuc2hvdHMiOltdLCJyZXN1bHQiOiJTVUNDRVNTIiwiZHVyYXRpb24iOjI1fSx7Im51bWJlciI6OSwiZGVzY3JpcHRpb24iOiJBcGlzaXR0IHN0b3BzIHRoZSBsb2NhbCBzZXJ2ZXIiLCJzdGFydFRpbWUiOjE1NzM3Nzk5MTI0MDcsImNoaWxkcmVuIjpbXSwicmVwb3J0RGF0YSI6W10sInNjcmVlbnNob3RzIjpbXSwicmVzdWx0IjoiU1VDQ0VTUyIsImR1cmF0aW9uIjowfV0sInVzZXJTdG9yeSI6eyJpZCI6ImNhbGN1bGF0aW9ucy1hcGkiLCJzdG9yeU5hbWUiOiJDYWxjdWxhdGlvbnMgQVBJIiwicGF0aCI6ImZlYXR1cmVzL2FwaS9jYWxjdWxhdGlvbnMuZmVhdHVyZSIsInR5cGUiOiJmZWF0dXJlIn0sInN0YXJ0VGltZSI6MTU3Mzc3OTkxMjM2NiwidGVzdFNvdXJjZSI6IkN1Y3VtYmVyIiwidGFncyI6W3sibmFtZSI6ImFwaSIsInR5cGUiOiJjYXBhYmlsaXR5In0seyJuYW1lIjoiQXBpL0NhbGN1bGF0aW9ucyBBUEkiLCJ0eXBlIjoiZmVhdHVyZSJ9XSwiZmVhdHVyZVRhZyI6eyJuYW1lIjoiQ2FsY3VsYXRpb25zIEFQSSIsInR5cGUiOiJmZWF0dXJlIn0sImR1cmF0aW9uIjo1NSwicmVzdWx0IjoiU1VDQ0VTUyJ9&quot;},&quot;name&quot;:&quot;Calculates result of an expression&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.423Z&quot;}}
            {&quot;type&quot;:&quot;TestRunFinished&quot;,&quot;event&quot;:&quot;2019-11-15T01:05:12.422Z&quot;}
            {&quot;type&quot;:&quot;ArtifactArchived&quot;,&quot;event&quot;:{&quot;sceneId&quot;:&quot;ckg2xi0mf0000xf5zb41kc67m&quot;,&quot;name&quot;:&quot;Calculates result of an expression&quot;,&quot;type&quot;:&quot;TestReport&quot;,&quot;path&quot;:&quot;scenario-calculates-result-of-an-expression-23ff6a3fa8.json&quot;,&quot;timestamp&quot;:&quot;2019-11-15T01:05:12.428Z&quot;}}
        `</span>).then(<span class="hljs-function">() =&gt;</span> {
            expect(stdout.buffer).to.equal(trimmed <span class="hljs-string">`
                | --------------------------------------------------------------------------------
                | features/api/calculations.feature:17
                |
                | Calculations API: Calculates result of an expression
                |
                |   &#x2713; Apisitt starts the local server (5ms)
                |   &#x2713; Apisitt changes the API URL to the URL of the local server (1ms)
                |   When Apisitt asks for the following calculation: 2 + 2
                |     Apisitt requests calculation of 2 + 2
                |       &#x2713; Apisitt sends a POST request to &apos;/api/calculations&apos; (20ms)
                |       &#x2713; Apisitt ensures that the status of the last response does equal 201 (1ms)
                |       &#x2713; Apisitt ensures that the &apos;location&apos; header of the last response does start with &apos;/api/calculations/&apos; (0ms)
                |       &#x2713; Apisitt logs: the status of the last response, the &apos;location&apos; header of the last response, banana (1ms)
                |         the status of the last response:
                |         201
                |
                |         the &apos;location&apos; header of the last response:
                |         &apos;/api/calculations/ck2zfxc5r0000p66us8t4oa36&apos;
                |
                |         &apos;banana&apos;
                |
                |   &#x2713; Apisitt stops the local server (0ms)
                |
                | &#x2713; Execution successful (55ms)
                | ================================================================================
                | Execution Summary
                |
                | Calculations API: 1 successful, 1 total (55ms)
                |
                | Total time: 55ms
                | Scenarios:  1
                | ================================================================================
            `</span>);
        }));
    });
});

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FakeWritableStream</span> <span class="hljs-title">implements</span> <span class="hljs-title">Partial</span>&lt;<span class="hljs-title">NodeJS</span>.<span class="hljs-title">WritableStream</span>&gt; </span>{
    <span class="hljs-function"><span class="hljs-title">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">public</span> buffer: <span class="hljs-built_in">string</span> = <span class="hljs-string">&apos;&apos;</span></span>)</span> {
    }

    <span class="hljs-comment">// @ts-ignore</span>
    write(chunk: <span class="hljs-built_in">string</span>, <span class="hljs-attr">encoding</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span> {
        <span class="hljs-built_in">this</span>.buffer += chunk;
    }
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Extras</span> <span class="hljs-title">implements</span> <span class="hljs-title">Cast</span> </span>{
    prepare(actor: Actor): Actor {
        <span class="hljs-keyword">return</span> actor;
    }
}
</code></pre>

</article>
            </section>
        </div>
    </main>
</section>
</body></html>
</section>

<footer id="footer" class="ftr ftr-accent-2 text-center">
    <div class="container ftr-columns d-print-none">
        <div class="row">
            <div class="col-md-2 ml-auto col-sm-4">
                <h5 class="ftr-column-title ">Get started</h5>
                <ul class="ftr-column-list">
                    <li><a href="/handbook/">Serenity/JS Handbook</a></li>
                    <li><a href="/modules/">API docs</a></li>
                    <li><a href="https://github.com/serenity-js">Project templates</a></li>
                    <li><a href="https://github.com/serenity-js/serenity-js/tree/master/examples">Examples</a></li>
                </ul>
            </div>
            <div class="col-md-2 col-sm-4">
                <h5 class="ftr-column-title ">Support</h5>
                <ul class="ftr-column-list">
                    <li><a href="/support.html">Free Support</a></li>
                    <li><a href="/support.html#corporate-sponsorship-and-support">Commercial Support</a></li>
                    <li><a href="/support.html#serenity-js-mentoring">Mentoring</a></li>
                    <li><a href="/support.html#serenity-js-training">Training</a></li>
                    <li><a href="/community/sponsors.html">Serenity/JS Sponsors</a></li>
                    <li><a href="https://gitter.im/serenity-js/Lobby">Chat on Gitter</a></li>
                </ul>
            </div>
            <div class="col-md-2 mr-auto col-sm-4">
                <h5 class="ftr-column-title">Developers</h5>
                <ul class="ftr-column-list">
                    <li><a href="https://github.com/serenity-js">Serenity/JS on Github</a></li>
                    <li><a href="/handbook/integration">Integration guide</a></li>
                    <li><a href="/changelog.html">Changelog</a></li>
                    <li><a href="/contributing.html">Contributing</a></li>
                    <li><a href="/license.html">License</a></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-6 mx-auto">
            <div class="ftr-column-list">
                <a class="github-button" href="https://github.com/sponsors/serenity-js" data-icon="octicon-heart" data-size="large" aria-label="Sponsor Serenity/JS on GitHub">Sponsor</a>
                <a class="github-button" href="https://github.com/serenity-js/serenity-js" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star jan-molak/serenity-js on GitHub">Star</a>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 mx-auto ftr-bt ftr-oneline ">
                Made with love in London, UK &copy; 2016 - 2020 <a href="https://janmolak.com" target="_blank">Jan Molak</a>, smartcode ltd.
            </div>
        </div>
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
        integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.2.0/anchor.min.js"
        integrity="sha256-m1eTvwEHwmsw4+XKF7BshClVJEPwTVycveNl0CS0Mkk="
        crossorigin="anonymous"></script>
<!-- Place this tag in your head or just before your close body tag. -->
<script async defer src="https://buttons.github.io/buttons.js"></script>

<script src="/js/charming-pro.js"></script>

<script src="/js/search_index_initialiser.js"></script>
<script src="/js/inherited-summary.js"></script>
<script src="/js/test-summary.js"></script>
<script src="/js/patch-for-local.js"></script>
<script src="/js/external-links.js"></script>

<script>
    anchors.add('article h1, article h2, article h3, article h4');
</script>

<script type="text/javascript" id="cookieinfo"
        src="//cookieinfoscript.com/js/cookieinfo.min.js"
        data-message="We use analytical cookies to optimise the performance of this website. By continuing to use this site you agree to help us make it better for everyone."
        data-close-text="Got it!"
>
</script>
</body>
</html>
