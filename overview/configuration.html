
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Configuration Â· Serenity/JS Handbook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Jan Molak">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../website-1575842506700.css">
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../cucumber/readme.html" />
    
    
    <link rel="prev" href="installation.html" />
    

    <link href="http://serenity-js.org/updates.rss" title="Serenity/JS Handbook" rel="alternate" type="application/rss+xml" />

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Serenity/JS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../introduction.html">
            
                <a href="../introduction.html">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../changelog.html">
            
                <a href="../changelog.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Tutorial</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../from-scripts-to-serenity/readme.html">
            
                <a href="../from-scripts-to-serenity/readme.html">
            
                    
                    From scripts to serenity
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="../from-scripts-to-serenity/speaking-the-right-language.html">
            
                <a href="../from-scripts-to-serenity/speaking-the-right-language.html">
            
                    
                    Speaking the right language
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="../from-scripts-to-serenity/writing-what-you-would-like-to-read.html">
            
                <a href="../from-scripts-to-serenity/writing-what-you-would-like-to-read.html">
            
                    
                    Writing what you'd like to read
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="../from-scripts-to-serenity/making-the-tests-speak-for-themselves.html">
            
                <a href="../from-scripts-to-serenity/making-the-tests-speak-for-themselves.html">
            
                    
                    Making the tests speak for themselves
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Guide</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    Overview
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1.1" data-path="reporting.html">
            
                <a href="reporting.html">
            
                    
                    Reporting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.2" data-path="prerequisites.html">
            
                <a href="prerequisites.html">
            
                    
                    Prerequisites
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.3" data-path="retrofitting.html">
            
                <a href="retrofitting.html">
            
                    
                    Retrofitting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.1.4" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.1.5" data-path="configuration.html">
            
                <a href="configuration.html">
            
                    
                    Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../cucumber/readme.html">
            
                <a href="../cucumber/readme.html">
            
                    
                    Cucumber
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../cucumber/overview.html">
            
                <a href="../cucumber/overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../cucumber/automation.html">
            
                <a href="../cucumber/automation.html">
            
                    
                    Automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../cucumber/execution.html">
            
                <a href="../cucumber/execution.html">
            
                    
                    Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../mocha/readme.html">
            
                <a href="../mocha/readme.html">
            
                    
                    Mocha
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../mocha/overview.html">
            
                <a href="../mocha/overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.2" data-path="../mocha/automation.html">
            
                <a href="../mocha/automation.html">
            
                    
                    Automation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3.3" data-path="../mocha/execution.html">
            
                <a href="../mocha/execution.html">
            
                    
                    Execution
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../design/readme.html">
            
                <a href="../design/readme.html">
            
                    
                    Design
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.4.1" data-path="../design/screenplay-pattern.html">
            
                <a href="../design/screenplay-pattern.html">
            
                    
                    The Screenplay Pattern
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.2" data-path="../design/stage.html">
            
                <a href="../design/stage.html">
            
                    
                    Stage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4.3" data-path="../design/assertions.html">
            
                <a href="../design/assertions.html">
            
                    
                    Assertions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="divider"></li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../community.html">
            
                <a href="../community.html">
            
                    
                    Community events and articles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../support.html">
            
                <a href="../support.html">
            
                    
                    Support
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../license.html">
            
                <a href="../license.html">
            
                    
                    License
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Configuration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="configuration"><a name="configuration" class="plugin-anchor" href="#configuration"><i class="fa fa-link" aria-hidden="true"></i></a>Configuration</h1>
<p>Serenity/JS can be configured using the Protractor 
<a href="https://github.com/angular/protractor/blob/master/lib/config.ts" target="_blank">configuration file</a> - <code>protractor.conf.js</code>,
which then becomes the first argument of the Protractor command line test runner you invoke to execute the tests:</p>
<pre><code class="lang-bash">protractor ./protractor.conf.js
</code></pre>
<p>Configuration of the <code>ts-node</code> module and the TypeScript compiler is <a href="#TypeScript">explained below</a>.</p>
<h2 id="serenityjs-protractor-framework"><a name="serenityjs-protractor-framework" class="plugin-anchor" href="#serenityjs-protractor-framework"><i class="fa fa-link" aria-hidden="true"></i></a>Serenity/JS Protractor Framework</h2>
<p>To make Protractor aware of Serenity/JS, make sure that the <code>protractor.conf.js</code> file defines the <code>framework</code> and 
the <code>frameworkPath</code> as per the below:</p>
<pre><code class="lang-javascript">exports.config = {
    <span class="hljs-comment">// Framework definition - tells Protractor to use Serenity/JS</span>
    framework: <span class="hljs-string">&apos;custom&apos;</span>,
    frameworkPath: <span class="hljs-built_in">require</span>.resolve(<span class="hljs-string">&apos;serenity-js&apos;</span>)
}
</code></pre>
<h2 id="cucumber"><a name="cucumber" class="plugin-anchor" href="#cucumber"><i class="fa fa-link" aria-hidden="true"></i></a>Cucumber</h2>
<p>To use Serenity/JS with Cucumber, two more parameters need to be added to the configuration:</p>
<ul>
<li><code>specs</code> - which tells Cucumber where your <code>.feature</code> files are located,</li>
<li><code>cucumberOpts</code> - which defines <a href="https://github.com/cucumber/cucumber-js/blob/master/docs/cli.md" target="_blank">Cucumber-specific configuration</a>,
such as where the step definitions are, or what compiler to use.</li>
</ul>
<p>When Serenity/JS sees the <code>cucumberOpts</code> parameter, it also makes an informed guess that it is the Cucumber 
dialect that you want to be using in your test scenarios (although you can <a href="#serenityjs---dialect">configure that explicitly</a> too):</p>
<pre><code class="lang-javascript">exports.config = {

    <span class="hljs-comment">// Framework definition - tells Protractor to use Serenity/JS</span>
    <span class="hljs-comment">// ... (see above)</span>

    specs: [ <span class="hljs-string">&apos;features/**/*.feature&apos;</span> ],

    cucumberOpts: {
        <span class="hljs-built_in">require</span>:    [ <span class="hljs-string">&apos;features/**/*.ts&apos;</span> ], <span class="hljs-comment">// loads step definitions</span>
        format:     <span class="hljs-string">&apos;pretty&apos;</span>,               <span class="hljs-comment">// enable console output</span>
        compiler:   <span class="hljs-string">&apos;ts:ts-node/register&apos;</span>   <span class="hljs-comment">// interpret step definitions as TypeScript</span>
    }
}
</code></pre>
<p>Please note that even though the configuration above tells Cucumber to use a TypeScript transpiler to interpret 
the step definitions (<code>compiler: &apos;ts:ts-node/register&apos;</code>), it still allows for steps defined in JavaScript to be included
also (see <a href="#mixed-mode">mixed mode</a>):</p>
<pre><code class="lang-javascript">    cucumberOpts: {
        <span class="hljs-built_in">require</span>:    [           <span class="hljs-comment">// loads step definitions:</span>
            <span class="hljs-string">&apos;features/**/*.ts&apos;</span>, <span class="hljs-comment">// - defined using TypeScript    </span>
            <span class="hljs-string">&apos;features/**/*.js&apos;</span>  <span class="hljs-comment">// - defined using JavaScript</span>
         ], 
        format:     <span class="hljs-string">&apos;pretty&apos;</span>,               <span class="hljs-comment">// enable console output</span>
        compiler:   <span class="hljs-string">&apos;ts:ts-node/register&apos;</span>   <span class="hljs-comment">// interpret step definitions as TypeScript</span>
    }
</code></pre>
<p>Learn more about <a href="../cucumber/readme.html">writing and executing test scenarios with Cucumber</a>.</p>
<h2 id="mocha"><a name="mocha" class="plugin-anchor" href="#mocha"><i class="fa fa-link" aria-hidden="true"></i></a>Mocha</h2>
<p>As with Cucumber, to use Mocha specify the below two parameters:</p>
<ul>
<li><code>specs</code> - which tells Mocha where to find your spec files,</li>
<li><code>mochaOpts</code> - which defines <a href="https://mochajs.org/#mochaopts" target="_blank">Mocha-specific configuration</a>,
and same as the <code>mocha.opts</code> file, it tells Mocha how to display 
the progress of the execution of your tests execution in the terminal 
and what syntax you want to use in your tests. See <a href="https://mochajs.org/" target="_blank">Mocha documentation</a> for more details.</li>
</ul>
<p>When Serenity/JS sees the <code>mochaOpts</code> parameter, it also makes an informed guess that it is the Mocha 
dialect that you want to be using in your test scenarios 
(which can be <a href="#serenityjs---dialect">configured explicitly</a> too):</p>
<pre><code class="lang-javascript">exports.config = {

    <span class="hljs-comment">// Framework definition - tells Protractor to use Serenity/JS</span>
    <span class="hljs-comment">// ... (see above)</span>

    specs: [ <span class="hljs-string">&apos;spec/**/*.spec.ts&apos;</span> ],

    mochaOpts: {
        ui:       <span class="hljs-string">&apos;bdd&apos;</span>,                  <span class="hljs-comment">// use the describe/it syntax (default: &apos;bdd&apos;).</span>
        compiler: <span class="hljs-string">&apos;ts:ts-node/register&apos;</span>   <span class="hljs-comment">// interpret step definitions as TypeScript</span>
    }
}
</code></pre>
<p><img align="absmiddle" alt=":bulb:" class="emoji" src="../gitbook/gitbook-plugin-advanced-emoji/emojis/bulb.png" title=":bulb:"> <strong>PRO TIP</strong>: Mocha&apos;s programmatic API does not accept the <code>compiler</code> option, and because of that the above configuration 
would not work with Protractor&apos;s <a href="https://github.com/angular/protractor/tree/master/lib/frameworks" target="_blank">built-in Mocha adapter</a>. 
Serenity/JS interprets the <code>compiler</code> configuration and loads the required module using syntax consistent with Cucumber&apos;s
and Mocha&apos;s command line interface.</p>
<p>As with Cucumber, note that even though the configuration above tells Mocha to use a TypeScript transpiler to interpret 
the spec files (<code>compiler: &apos;ts:ts-node/register&apos;</code>), it works perfectly fine with specs defined in JavaScript too
(see <a href="#mixed-mode">mixed mode</a>):</p>
<pre><code class="lang-javascript">exports.config = {

    <span class="hljs-comment">// Framework definition - tells Protractor to use Serenity/JS</span>
    <span class="hljs-comment">// ... (see above)</span>

    specs: [                    <span class="hljs-comment">// load specs defined in:</span>
        <span class="hljs-string">&apos;spec/**/*.spec.ts&apos;</span>,    <span class="hljs-comment">// - TypeScript</span>
        <span class="hljs-string">&apos;spec/**/*.spec.js&apos;</span>     <span class="hljs-comment">// - JavaScript</span>
     ],

    mochaOpts: {
        ui:       <span class="hljs-string">&apos;bdd&apos;</span>,
        compiler: <span class="hljs-string">&apos;ts:ts-node/register&apos;</span>   <span class="hljs-comment">// interpret step definitions as TypeScript</span>
    }
}
</code></pre>
<p>Learn more about <a href="../mocha/readme.html">writing and executing test scenarios using Mocha</a>.</p>
<h2 id="serenityjs---dialect"><a name="serenityjs---dialect" class="plugin-anchor" href="#serenityjs---dialect"><i class="fa fa-link" aria-hidden="true"></i></a>Serenity/JS - dialect</h2>
<p>Serenity/JS detects whether you want to use Cucumber or Mocha based on the presence of <code>cucumberOpts</code> or <code>mochaOpts</code>,
respectively.</p>
<p>You can skip the automatic detection and define which dialect to use by specifying the <code>dialect</code> option 
in the <code>serenity</code> section of your configuration:</p>
<pre><code class="lang-javascript">exports.config = {

    serenity: {
        dialect: <span class="hljs-string">&apos;cucumber&apos;</span>,  <span class="hljs-comment">// or &apos;mocha&apos;</span>
    }
    <span class="hljs-comment">// ...</span>
}
</code></pre>
<h2 id="stage-crew-members"><a name="stage-crew-members" class="plugin-anchor" href="#stage-crew-members"><i class="fa fa-link" aria-hidden="true"></i></a>Stage Crew Members</h2>
<p>The <a href="https://github.com/jan-molak/serenity-js/blob/master/packages/serenity-js/src/stage_crew.ts" target="_blank">Stage Crew Members</a> listen on
and act upon the <a href="https://github.com/jan-molak/serenity-js/blob/master/packages/core/src/domain/events.ts" target="_blank">domain events</a>
emitted during the test scenario execution.</p>
<p>Your default stage crew consists of:</p>
<ul>
<li>the <code>Photographer</code>, who takes a screenshot of the UI when an actor performs a task</li>
<li>the <code>SerenityBDDReporter</code>, who produces Serenity BDD-compatible JSON reports</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-comment">// Optional, imports Serenity/JS Stage Crew Members</span>
<span class="hljs-keyword">const</span> crew = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;serenity-js/lib/stage_crew&apos;</span>);

exports.config = {

    <span class="hljs-comment">// Framework definition - tells Protractor to use Serenity/JS</span>
    <span class="hljs-comment">// ... (see above)</span>

    serenity: {
        crew:    [
            crew.serenityBDDReporter(),
            crew.photographer()
        ],

        dialect: <span class="hljs-string">&apos;cucumber&apos;</span>,  <span class="hljs-comment">// or &apos;mocha&apos;</span>
    },

    <span class="hljs-comment">// Test framework-specific configuration... (see above)</span>

    <span class="hljs-comment">// Other protractor-specific configuration... (see below)</span>
}
</code></pre>
<p>Stage Crew configured via the <code>serenity.crew</code> property overrides the defaults, so for example if you wanted to disable
screenshots altogether, you can let the <code>Photographer</code> go and only leave the <code>SerenityBDDReporter</code>:</p>
<pre><code class="lang-javascript">serenity: {
    crew:    [
        crew.serenityBDDReporter(),
    ]
}
</code></pre>
<p>If you wanted to see what tasks are being performed, but were not interested in producing the report, you could hire 
the <code>ConsoleReporter</code> instead of the default Crew   :</p>
<pre><code class="lang-javascript">serenity: {
    crew:    [
        crew.consoleReporter(),
    ]
}
</code></pre>
<p><img align="absmiddle" alt=":bulb:" class="emoji" src="../gitbook/gitbook-plugin-advanced-emoji/emojis/bulb.png" title=":bulb:"> <strong>PRO TIP</strong>: You can define your own Stage Crew Members to produce custom reports or integrate 
with your infrastructure.</p>
<h2 id="requirements-directory"><a name="requirements-directory" class="plugin-anchor" href="#requirements-directory"><i class="fa fa-link" aria-hidden="true"></i></a>Requirements directory</h2>
<p>By default, Serenity/JS assumes that your acceptance tests, in the form of either 
<a href="../cucumber/automation.html#location-location-location">Cucumber <code>*.feature</code> files</a> 
or <a href="../mocha/overview.html#directory-structure">Mocha <code>*.spec.ts</code> files</a>, 
are kept in the <code>features</code> directory under the project root.
It also assumes that you run your acceptance tests from the project&apos;s root directory. </p>
<p>This means that the default configuration of the <code>requirementsDirectory</code> looks as follows,
but you can change it to better fit the structure of your project: </p>
<pre><code class="lang-javascript">serenity: {
    requirementsDirectory: <span class="hljs-string">`<span class="hljs-subst">${process.cwd()}</span>/features`</span>
}
</code></pre>
<h2 id="output-directory"><a name="output-directory" class="plugin-anchor" href="#output-directory"><i class="fa fa-link" aria-hidden="true"></i></a>Output directory</h2>
<p>Serenity/JS produces <code>.json</code> reports (optionally accompanied by screenshots)
and stores them in the <code>target/site/serenity</code> directory (relative to where you&apos;re executing the tests from)
where they can be processed by <a href="https://www.npmjs.com/package/serenity-cli" target="_blank">Serenity BDD CLI</a>
to create the <a href="reporting.html">HTML reports</a>.</p>
<p>This means that the default configuration of the <code>outputDirectory</code> looks as follows, but you can change it 
to better fit the structure of your project:</p>
<pre><code class="lang-javascript">serenity: {
    outputDirectory: <span class="hljs-string">`<span class="hljs-subst">${process.cwd()}</span>/target/site/serenity/`</span>
}
</code></pre>
<p><img align="absmiddle" alt=":bulb:" class="emoji" src="../gitbook/gitbook-plugin-advanced-emoji/emojis/bulb.png" title=":bulb:"> <strong>PRO TIP</strong>: To configure a location that&apos;s relative to your current working directory (i.e. where you execute
your test runner, such as Protractor) use <a href="https://nodejs.org/api/process.html#process_process_cwd" target="_blank"><code>process.cwd()</code></a>, 
for example: <code>${process.cwd()}/some/relative/path</code>.</p>
<p>The thing to remember when changing the default output directory, though, is that this will also require you to tell
Serenity BDD CLI where to look for the reports.</p>
<p>To do this, make sure that you specify the <code>--source</code> and <code>--destination</code> parameters 
when <a href="../from-scripts-to-serenity/making-the-tests-speak-for-themselves.html#scripting-the-reporting">invoking <code>serenity run</code></a>:</p>
<p><code>serenity run --source my/custom/path --destination my/custom/path</code></p>
<p>To find out more about the command line options of <a href="https://www.npmjs.com/package/serenity-cli" target="_blank">Serenity CLI</a> run:</p>
<pre><code>serenity --help run
</code></pre><p><img align="absmiddle" alt=":bulb:" class="emoji" src="../gitbook/gitbook-plugin-advanced-emoji/emojis/bulb.png" title=":bulb:"> <strong>PRO TIP</strong>: The <code>serenity</code> script mentioned above lives under the <code>node_modules/.bin</code> directory,
so you can either execute it there, or add a <code>script</code> to your <code>package.json</code>: <code>scripts: { serenity: &quot;serenity&quot; }</code>
and <a href="https://docs.npmjs.com/cli/run-script" target="_blank">run it through the npm</a>: <code>npm run serenity --help run</code>. </p>
<h2 id="timeouts"><a name="timeouts" class="plugin-anchor" href="#timeouts"><i class="fa fa-link" aria-hidden="true"></i></a>Timeouts</h2>
<p>To ensure that <a href="https://github.com/angular/protractor/blob/master/lib/frameworks/README.md#future-requirements" target="_blank">the contract with Protractor</a>
is respected, Serenity/JS needs to wait for any Protractor plugins to process the results of a finished scenario
before the next scenario can be executed. The same synchronisation needs to occur if Serenity/JS is configured 
to capture screenshots, as those too might take some time to be stored to disk, 
especially when the web browser is hosted on a remote grid.</p>
<p>To handle those situations, a test scenario will wait for a signal to start - a <a href="https://en.wikipedia.org/wiki/Cue_%28theatrical%29#Types" target="_blank">stage cue</a>,
up to the maximum of <code>serenity.stageCueTimeout</code> milliseconds: </p>
<pre><code class="lang-javascript">serenity: {
   stageCueTimeout: <span class="hljs-number">30</span> * <span class="hljs-number">1000</span>   <span class="hljs-comment">// up to 30 seconds by default</span>
}
</code></pre>
<p>To learn how to configure other timeouts, consult the below sections of relevant manuals:</p>
<ul>
<li><a href="https://github.com/angular/protractor/blob/master/docs/timeouts.md" target="_blank">Protractor Timeouts</a></li>
<li><a href="https://github.com/cucumber/cucumber-js/blob/master/docs/support_files/timeouts.md" target="_blank">Cucumber Timeouts</a></li>
<li><a href="https://mochajs.org/#timeouts" target="_blank">Mocha Timeouts</a></li>
</ul>
<h2 id="protractor"><a name="protractor" class="plugin-anchor" href="#protractor"><i class="fa fa-link" aria-hidden="true"></i></a>Protractor</h2>
<p>The rest of the configuration can be defined as per 
the <a href="https://github.com/angular/protractor/blob/master/lib/config.ts" target="_blank">Protractor documentation</a>.</p>
<h2 id="mixed-mode"><a name="mixed-mode" class="plugin-anchor" href="#mixed-mode"><i class="fa fa-link" aria-hidden="true"></i></a>Mixed mode</h2>
<p>Thanks to the fact that TypeScript is a <em>super-set</em> of JavaScript, valid JavaScript code is, in fact, valid TypeScript, 
just without the benefit of type definitions.</p>
<p>What this means is that Cucumber can use step definitions and Mocha can execute specs where some of them are implemented 
in TypeScript and some in JavaScript, yet they can still co-exist in the same codebase without a problem.</p>
<p>This fact is incredibly useful when introducing Serenity/JS and TypeScript to an existing JavaScript codebase,
because it allows for gradual and safe adoption of Serenity/JS, rather than a big-bang re-write.</p>
<h1 id="typescript"><a name="typescript" class="plugin-anchor" href="#typescript"><i class="fa fa-link" aria-hidden="true"></i></a>TypeScript</h1>
<p>The <a href="installation.html#typescript-execution-environment-and-repl-for-nodejs"><code>ts-node</code> module</a>, 
the one responsible for interpreting the TypeScript sources in-memory, 
uses the <a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank">same configuration</a> file
as the regular TypeScript compiler.</p>
<p>The easiest thing to do to make sure that the TypeScript code you write is transpiled correctly 
is to place a <code>tsconfig.json</code> file with the below contents 
in the root directory of your Node.js project, the same place where the <code>protractor.conf.js</code> file lives:</p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;compilerOptions&quot;</span>: {
    <span class="hljs-string">&quot;target&quot;</span>: <span class="hljs-string">&quot;es5&quot;</span>,
    <span class="hljs-string">&quot;lib&quot;</span>: [ <span class="hljs-string">&quot;es5&quot;</span>, <span class="hljs-string">&quot;es6&quot;</span> ],
    <span class="hljs-string">&quot;module&quot;</span>: <span class="hljs-string">&quot;commonjs&quot;</span>,
    <span class="hljs-string">&quot;emitDecoratorMetadata&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;experimentalDecorators&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;sourceMap&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;declaration&quot;</span>: <span class="hljs-literal">true</span>
  },

  <span class="hljs-string">&quot;exclude&quot;</span>: [
    <span class="hljs-string">&quot;node_modules&quot;</span>
  ]
}
</code></pre>
<hr>
<h3 id="your-feedback-matters"><a name="your-feedback-matters" class="plugin-anchor" href="#your-feedback-matters"><i class="fa fa-link" aria-hidden="true"></i></a>Your feedback matters!</h3>
<p>Suggest features and improvements on <a href="https://github.com/jan-molak/serenity-js/issues" target="_blank">github</a>,
get in touch on <a href="https://twitter.com/JanMolak" target="_blank">twitter</a>,
and if you found Serenity/JS useful - don&apos;t forget to give it a star! &#x2605;</p>
<p><a class="github-button" href="https://github.com/jan-molak/serenity-js" data-icon="octicon-star" data-style="mega" data-count-href="/jan-molak/serenity-js/stargazers" data-count-api="/repos/jan-molak/serenity-js#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star jan-molak/serenity-js on GitHub" target="_blank">Star</a></p>
<script async defer src="https://buttons.github.io/buttons.js"></script> 

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="installation.html" class="navigation navigation-prev " aria-label="Previous page: Installation">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../cucumber/readme.html" class="navigation navigation-next " aria-label="Next page: Cucumber">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Configuration","level":"3.1.5","depth":2,"next":{"title":"Cucumber","level":"3.2","depth":1,"path":"cucumber/readme.md","ref":"cucumber/readme.md","articles":[{"title":"Overview","level":"3.2.1","depth":2,"path":"cucumber/overview.md","ref":"cucumber/overview.md","articles":[]},{"title":"Automation","level":"3.2.2","depth":2,"path":"cucumber/automation.md","ref":"cucumber/automation.md","articles":[]},{"title":"Execution","level":"3.2.3","depth":2,"path":"cucumber/execution.md","ref":"cucumber/execution.md","articles":[]}]},"previous":{"title":"Installation","level":"3.1.4","depth":2,"path":"overview/installation.md","ref":"overview/installation.md","articles":[]},"dir":"ltr"},"config":{"plugins":["anchors","advanced-emoji","editlink","include-codeblock","ga","github","rss","sitemap","styles-less","youtube"],"root":"./book","styles":{"website":"website-1575842506700.css"},"pluginsConfig":{"youtube":{},"github":{"url":"https://github.com/jan-molak/serenity-js"},"editlink":{"label":"Edit on github","multilingual":false,"base":"https://github.com/jan-molak/serenity-js/edit/master/book"},"styles-less":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"rss":{"image_url":"http://serenity-js.org/assets/images/serenity-js-eye.svg","author":"Jan Molak","feed_url":"http://serenity-js.org/updates.rss","managingEditor":"jan.molak@smartcodeltd.co.uk (Jan Molak)","webMaster":"jan.molak@smartcodeltd.co.uk (Jan Molak)","site_url":"http://serenity-js.org/","title":"Serenity/JS Handbook","categories":["book","manual","tutorial","bdd","tdd","testing","protractor","mocha","cucumber","angular","bdd","selenium","webdriverjs","webdriver"],"description":"A comprehensive reference manual and tutorials for Serenity/JS, a next generation automated testing library."},"highlight":{},"sitemap":{"hostname":"http://serenity-js.org/"},"ga":{"configuration":"auto","token":"UA-85788349-2"},"advanced-emoji":{"embedEmojis":false},"include-codeblock":{"check":false,"edit":false,"lang":"","fixlang":false,"template":"default","theme":"chrome","unindent":false},"sharing":{"facebook":true,"twitter":true,"google":true,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper","vk"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","author":"Jan Molak","custom":{},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"package":{"license":"Apache-2.0","config":{"commitizen":{"path":"./node_modules/cz-lerna-changelog"}},"scripts":{"semantic-release":"lerna-semantic-release pre && lerna-semantic-release post && lerna-semantic-release perform","prebook:publish":"npm run book:clean && npm run book:build","coverage:merge":"istanbul-merge --out=./target/coverage/coverage-final.json ./target/coverage/**/coverage-final.json","coverage:report":"nyc report --reporter=html --reporter=lcov --temp-directory=./target/coverage --report-dir=./target/coverage","clean":"rimraf target","lerna":"lerna","report":"npm run coverage:merge && npm run coverage:report","commit":"git-cz","travis-deploy-once":"travis-deploy-once","book:clean":"rimraf _book","verify":"lerna run verify --stream && npm run report","postinstall":"lerna bootstrap --hoist && link-parent-bin","gitbook":"gitbook","semantic-release-dry-run":"lerna-semantic-release pre && lerna-semantic-release post","coverage:publish":"cat ./target/coverage/lcov.info | node ./node_modules/coveralls/bin/coveralls.js","book:build":"gitbook build","book:publish":"node ./gh-pages.js -d _book --dotfiles"},"repository":{"type":"git","url":"https://github.com/jan-molak/serenity-js.git"},"keywords":["protractor","mocha","cucumber","angular","tdd","bdd","test","selenium","webdriverjs","webdriver","testing"],"author":"Jan Molak <jan.molak@smartcodeltd.co.uk>","name":"serenity-js","homepage":"http://serenity-js.org","engines":{"node":">= 6.9.x","npm":">= 3"},"greenkeeper":{"ignore":["@types/node","tslint","tslint-microsoft-contrib","typescript","nyc","gitbook-cli","gitbook-plugin-addcssjs","gitbook-plugin-advanced-emoji","gitbook-plugin-anchors","gitbook-plugin-editlink","gitbook-plugin-ga","gitbook-plugin-github","gitbook-plugin-include-codeblock","gitbook-plugin-rss","gitbook-plugin-sitemap","gitbook-plugin-styles-less","gitbook-plugin-youtube"]},"version":"0.0.1","description":"Serenity/JS: Next generation acceptance testing library for modern web applications.","devDependencies":{"lerna-semantic-release":"9.1.0","rimraf":"2.6.3","@types/sinon":"4.3.3","gitbook-plugin-ga":"1.0.1","istanbul":"0.4.5","tslint":"4.4.2","gitbook-plugin-advanced-emoji":"0.2.1","sinon-chai":"3.3.0","@types/chai":"4.1.4","@types/mocha":"5.2.1","chai-as-promised":"7.1.1","typescript":"2.3.4","coveralls":"3.0.1","gitbook-plugin-rss":"3.0.0","gitbook-plugin-github":"2.0.0","lerna":"3.10.7","gitbook-plugin-editlink":"1.0.2","gitbook-plugin-sitemap":"1.2.0","chai":"4.1.2","istanbul-merge":"1.1.1","gitbook-cli":"2.3.0","tslint-microsoft-contrib":"4.0.0","mocha-testdata":"1.2.0","ts-node":"7.0.1","commitizen":"3.0.5","gitbook-plugin-include-codeblock":"3.0.2","gitbook-plugin-addcssjs":"1.0.2","gitbook-plugin-anchors":"0.7.1","sinon":"7.2.3","link-parent-bin":"0.2.3","travis-deploy-once":"^5.0.0","@types/node":"6.0.96","gh-pages":"2.0.0","nyc":"10.1.2","@types/sinon-chai":"3.2.2","@types/chai-as-promised":"7.1.0","mocha":"5.2.0","gitbook-plugin-youtube":"1.1.0","gitbook-plugin-styles-less":"1.0.0","ts-helper":"0.0.1","cz-lerna-changelog":"2.0.2"},"bugs":{"url":"https://github.com/jan-molak/serenity-js/issues"}},"api_version":"0.0.1"},"title":"Serenity/JS Handbook","gitbook":"*","description":"A comprehensive reference manual and tutorials for Serenity/JS, a next generation automated testing library"},"file":{"path":"overview/configuration.md","mtime":"2019-12-08T21:53:59.007Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-12-08T22:01:45.231Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        

    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-editlink/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-rss/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    



    </body>
</html>

